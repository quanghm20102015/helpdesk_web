<div class="d-flex container-box" [ngClass]="{'view-mail': viewMail}">
    <div class="content-left">
        <div class="container">
            <div class="row">
                <div class="col-md-12 group-title">
                    <div class="d-flex justify-content-between align-items-center">
                        <h3 title="Conversations" class="page-title mb-0">
                            {{title}}
                        </h3>
                        <div class="text-right">
                            <button type="submit" class="btn btn-outline-secondary border-0 " pTooltip="Search"
                                tooltipPosition="bottom" (click)="op4.toggle($event)">
                                <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <g clip-path="url(#clip0_850_24995)">
                                        <path
                                            d="M15.8048 14.8623L11.8254 10.883C12.9098 9.55674 13.443 7.8644 13.3147 6.15605C13.1863 4.4477 12.4062 2.85403 11.1358 1.70469C9.8654 0.55535 8.20183 -0.0617289 6.48919 -0.0189077C4.77656 0.0239135 3.1459 0.723359 1.93451 1.93475C0.723114 3.14614 0.0236694 4.7768 -0.0191518 6.48944C-0.0619731 8.20207 0.555106 9.86565 1.70445 11.1361C2.85379 12.4065 4.44745 13.1865 6.15581 13.3149C7.86416 13.4433 9.5565 12.9101 10.8828 11.8257L14.8621 15.805C14.9878 15.9264 15.1562 15.9936 15.331 15.9921C15.5058 15.9906 15.673 15.9205 15.7966 15.7969C15.9203 15.6733 15.9904 15.5061 15.9919 15.3313C15.9934 15.1565 15.9262 14.9881 15.8048 14.8623ZM6.66677 12.0003C5.61193 12.0003 4.58079 11.6875 3.70372 11.1015C2.82666 10.5155 2.14308 9.68253 1.73941 8.70799C1.33574 7.73345 1.23012 6.66109 1.43591 5.62653C1.6417 4.59196 2.14965 3.64165 2.89553 2.89577C3.64141 2.14989 4.59172 1.64194 5.62628 1.43615C6.66085 1.23037 7.7332 1.33598 8.70774 1.73965C9.68228 2.14332 10.5152 2.82691 11.1013 3.70397C11.6873 4.58103 12.0001 5.61218 12.0001 6.66701C11.9985 8.08101 11.4361 9.43664 10.4362 10.4365C9.4364 11.4363 8.08077 11.9988 6.66677 12.0003Z"
                                            fill="#343436" />
                                    </g>
                                    <defs>
                                        <clipPath id="clip0_850_24995">
                                            <rect width="16" height="16" fill="white"
                                                transform="translate(0.000244141)" />
                                        </clipPath>
                                    </defs>
                                </svg>

                            </button>
                            <p-overlayPanel #op4>
                                <ng-template pTemplate>
                                    <div id="tooltip-search">
                                        <div class="input-search">
                                            <div class="action-title">Search</div>
                                            <input type="text" pInputText [(ngModel)]="textSearch"
                                                (keyup)="onKeyupSearch()" placeholder="Search for message"
                                                style="margin-bottom: 8px;">
                                        </div>
                                        <div>
                                            <p-table [value]="listChatSearch">
                                                <ng-template pTemplate="body" let-item let-rowIndex="rowIndex">
                                                    <tr [pSelectableRow]="item"
                                                        [class.p-highlight]="(mailDetails && mailDetails.id === item.id)">
                                                        <td (click)="detailMail(item); op4.toggle($event)"
                                                            class="item-chat">
                                                            <div class="d-flex justify-content-between">
                                                                <div class="box-left">
                                                                    <svg width="16" height="16" viewBox="0 0 16 16"
                                                                        class="icon-mail" fill="none"
                                                                        xmlns="http://www.w3.org/2000/svg">
                                                                        <g clip-path="url(#clip0_102_33650)">
                                                                            <path
                                                                                d="M15.9693 3.69434L10.3573 9.30634C9.73158 9.93051 8.88383 10.281 8 10.281C7.11617 10.281 6.26842 9.93051 5.64267 9.30634L0.0306667 3.69434C0.0213333 3.79967 0 3.895 0 3.99967V11.9997C0.00105857 12.8834 0.352588 13.7306 0.97748 14.3555C1.60237 14.9804 2.4496 15.3319 3.33333 15.333H12.6667C13.5504 15.3319 14.3976 14.9804 15.0225 14.3555C15.6474 13.7306 15.9989 12.8834 16 11.9997V3.99967C16 3.895 15.9787 3.79967 15.9693 3.69434Z"
                                                                                fill="currentColor" />
                                                                            <path
                                                                                d="M9.41464 8.36433L15.504 2.27433C15.209 1.7852 14.7929 1.38035 14.296 1.09881C13.799 0.817274 13.2378 0.668553 12.6666 0.666992H3.33331C2.76212 0.668553 2.20097 0.817274 1.70399 1.09881C1.20701 1.38035 0.790957 1.7852 0.495972 2.27433L6.58531 8.36433C6.96102 8.73853 7.4697 8.94864 7.99997 8.94864C8.53025 8.94864 9.03893 8.73853 9.41464 8.36433Z"
                                                                                fill="currentColor" />
                                                                        </g>
                                                                        <defs>
                                                                            <clipPath id="clip0_102_33650">
                                                                                <rect width="16" height="16"
                                                                                    fill="white" />
                                                                            </clipPath>
                                                                        </defs>
                                                                    </svg>
                                                                    <span class="ms-1 fs-13"> #{{ item.id }}</span>
                                                                    <div class="">{{item.fromName}}</div>
                                                                </div>
                                                            </div>
                                                            <div class="fs-13">
                                                                <div class="text-truncate-1 text-chat-firs">
                                                                    {{item.subject}}
                                                                </div>
                                                                <div class="box-right date-time text-end fs-10">
                                                                    <div>{{item.dateTime | date:'MMM d, y'}}
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                </ng-template>

                                                <ng-template pTemplate="loadingbody" let-columns="columns">
                                                    <tr style="height:46px">
                                                        <td *ngFor="let col of columns; let even = even">
                                                            <p-skeleton
                                                                [ngStyle]="{'width': even ? (col.field === 'year' ? '30%' : '40%') : '60%'}"></p-skeleton>
                                                        </td>
                                                    </tr>
                                                </ng-template>
                                            </p-table>
                                        </div>
                                    </div>
                                </ng-template>
                            </p-overlayPanel>

                            <button type="submit" class="btn btn-outline-secondary border-0" pTooltip="Filter"
                                tooltipPosition="bottom" (click)="op5.toggle($event)">
                                <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path d="M2.00024 3.3335H14.0002M4.00024 8.00016H12.0002M6.00024 12.6668H10.0002"
                                        stroke="#343436" stroke-width="1.4" stroke-linecap="round" />
                                </svg>
                            </button>
                            <p-overlayPanel #op5>
                                <ng-template pTemplate>
                                    <div id="tooltip-filter">
                                        <div class="action-title d-flex justify-content-between align-items-center m-0">
                                            <div>Filter</div>
                                            <div class="text-danger fw-500 fs-13 cursor-pointer"
                                                (click)="clearFilter()">Clear filter</div>
                                        </div>
                                        <div class="filter-content">
                                            <div class="filter-item">
                                                <div class="filter-label">Time</div>
                                                <p-calendar [(ngModel)]="modelFilter.date" selectionMode="range"
                                                    dateFormat="dd/mm/yy" [readonlyInput]="true" inputId="range"
                                                    [showIcon]="true" placeholder="Choose date"
                                                    [showClear]="true"></p-calendar>
                                            </div>
                                            <div class="filter-item" style="margin-top: 8px;">
                                                <div class="filter-label">Status</div>
                                                <div class="filter--actions">
                                                    <p-dropdown [options]="listStatus" [(ngModel)]="modelFilter.status"
                                                        optionLabel="statusName" optionValue="id" scrollHeight="300px"
                                                        (onChange)="loadListEmail()"></p-dropdown>
                                                </div>
                                            </div>
                                            <div class="filter-item btn-filter">
                                                <button type="button" class="btn btn-primary"
                                                    (click)="filter()">Filter</button>
                                            </div>

                                        </div>

                                    </div>
                                </ng-template>
                            </p-overlayPanel>
                        </div>
                    </div>
                </div>
            </div>
            <p *ngIf="!listChat || listChat.length == 0" class="content-box">
                There are no active conversations in this group.
            </p>

            <div class="conversations-list">
                <p-table [value]="listChat" [scrollable]="true">
                    <ng-template pTemplate="body" let-item let-rowIndex="rowIndex">
                        <tr [pSelectableRow]="item" [class.p-highlight]="(mailDetails && mailDetails.id === item.id)">
                            <td (click)="detailMail(item)" class="item-chat">
                                <div class="d-flex justify-content-between">
                                    <div class="box-left">
                                        <svg width="12" height="12" viewBox="0 0 12 12" fill="none" class="icon-mail"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <g clip-path="url(#clip0_705_18790)">
                                                <path
                                                    d="M11.9772 2.771L7.76824 6.98C7.29893 7.44812 6.66312 7.71102 6.00024 7.71102C5.33737 7.71102 4.70156 7.44812 4.23224 6.98L0.0232441 2.771C0.0162441 2.85 0.000244141 2.9215 0.000244141 3V9C0.00103807 9.66279 0.264685 10.2982 0.733354 10.7669C1.20202 11.2356 1.83745 11.4992 2.50024 11.5H9.50024C10.163 11.4992 10.7985 11.2356 11.2671 10.7669C11.7358 10.2982 11.9995 9.66279 12.0002 9V3C12.0002 2.9215 11.9842 2.85 11.9772 2.771Z"
                                                    fill="currentColor" />
                                                <path
                                                    d="M7.06125 6.273L11.6283 1.7055C11.407 1.33866 11.095 1.03502 10.7222 0.823865C10.3495 0.612712 9.92864 0.50117 9.50025 0.5H2.50025C2.07186 0.50117 1.651 0.612712 1.27827 0.823865C0.905529 1.03502 0.593493 1.33866 0.372253 1.7055L4.93925 6.273C5.22104 6.55366 5.60255 6.71123 6.00025 6.71123C6.39796 6.71123 6.77947 6.55366 7.06125 6.273Z"
                                                    fill="currentColor" />
                                            </g>
                                            <defs>
                                                <clipPath id="clip0_705_18790">
                                                    <rect width="12" height="12" fill="white"
                                                        transform="translate(0.000244141)" />
                                                </clipPath>
                                            </defs>
                                        </svg>
                                        <span class="ms-1"> #{{ item.id }}</span>
                                    </div>
                                    <div class="box-right date-time text-end">
                                        <p-tag *ngIf="item.countUnread" [value]="item.countUnread"
                                            severity="danger"></p-tag>
                                        <div>{{item.dateTime | date:'dd/MM/yy hh:mm a'}}</div>
                                    </div>
                                </div>
                                <div class="fs-12">
                                    <div class="my-2">
                                        <div class="fw-600">{{item.fromName}}</div>
                                    </div>
                                    <div class="text-truncate-2 text-chat-firs">{{item.subject}}</div>
                                </div>
                            </td>
                        </tr>
                    </ng-template>

                </p-table>
                <div class="text-center pt-2">
                    <div class="btn btn-secondary text-loadmore" *ngIf="total > rows" (click)="loadmore()">Load more
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="content-center" *ngIf="viewMail">
        <div class="conv-header container-fluid">
            <div class="row">
                <div class="col-md-6">
                    <div class="user">
                        <div class="d-flex align-items-center">
                            <button class="btn text-primary btn-back ps-0 pe-2" (click)="viewMail = false">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M10.6001 12.7098C10.5064 12.6169 10.432 12.5063 10.3812 12.3844C10.3304 12.2625 10.3043 12.1318 10.3043 11.9998C10.3043 11.8678 10.3304 11.7371 10.3812 11.6152C10.432 11.4934 10.5064 11.3828 10.6001 11.2898L15.1901 6.70982C15.2838 6.61685 15.3582 6.50625 15.409 6.38439C15.4598 6.26253 15.4859 6.13183 15.4859 5.99982C15.4859 5.8678 15.4598 5.7371 15.409 5.61524C15.3582 5.49338 15.2838 5.38278 15.1901 5.28982C15.0027 5.10356 14.7493 4.99902 14.4851 4.99902C14.2209 4.99902 13.9675 5.10356 13.7801 5.28982L9.1901 9.87982C8.6283 10.4423 8.31274 11.2048 8.31274 11.9998C8.31274 12.7948 8.6283 13.5573 9.1901 14.1198L13.7801 18.7098C13.9664 18.8946 14.2178 18.9987 14.4801 18.9998C14.6117 19.0006 14.7422 18.9754 14.864 18.9256C14.9858 18.8758 15.0967 18.8025 15.1901 18.7098C15.2838 18.6169 15.3582 18.5063 15.409 18.3844C15.4598 18.2625 15.4859 18.1318 15.4859 17.9998C15.4859 17.8678 15.4598 17.7371 15.409 17.6152C15.3582 17.4934 15.2838 17.3828 15.1901 17.2898L10.6001 12.7098Z"
                                        fill="#1E1E1E" />
                                </svg>
                            </button>
                            <span class="text-secondary fw-500">#{{mailDetails.id}}</span>
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" class="ms-1"
                                xmlns="http://www.w3.org/2000/svg">
                                <g clip-path="url(#clip0_817_12635)">
                                    <path
                                        d="M15.9696 3.69434L10.3576 9.30634C9.73183 9.93051 8.88407 10.281 8.00024 10.281C7.11642 10.281 6.26866 9.93051 5.64291 9.30634L0.0309108 3.69434C0.0215775 3.79967 0.000244141 3.895 0.000244141 3.99967V11.9997C0.00130271 12.8834 0.352832 13.7306 0.977724 14.3555C1.60262 14.9804 2.44985 15.3319 3.33358 15.333H12.6669C13.5506 15.3319 14.3979 14.9804 15.0228 14.3555C15.6477 13.7306 15.9992 12.8834 16.0002 11.9997V3.99967C16.0002 3.895 15.9789 3.79967 15.9696 3.69434Z"
                                        fill="#37C541" />
                                    <path
                                        d="M9.41488 8.36433L15.5042 2.27433C15.2092 1.7852 14.7932 1.38035 14.2962 1.09881C13.7992 0.817274 13.2381 0.668553 12.6669 0.666992H3.33355C2.76236 0.668553 2.20122 0.817274 1.70423 1.09881C1.20725 1.38035 0.791202 1.7852 0.496216 2.27433L6.58555 8.36433C6.96126 8.73853 7.46994 8.94864 8.00022 8.94864C8.53049 8.94864 9.03917 8.73853 9.41488 8.36433Z"
                                        fill="#37C541" />
                                </g>
                                <defs>
                                    <clipPath id="clip0_817_12635">
                                        <rect width="16" height="16" fill="white" transform="translate(0.000244141)" />
                                    </clipPath>
                                </defs>
                            </svg>
                            <!-- <span class="text-secondary fw-500 ms-1"> Conversation with</span> -->
                            <span class="sub-block-title ms-1"> {{mailDetails.contactName}}</span>
                        </div>
                    </div>
                </div>
                <div class="col-md-6" *ngIf="title !== 'Trash'">
                    <div class="header-actions-wrap has-open-sidebar">
                        <div class="d-flex justify-content-end btn-mobile">
                            <button type="submit" class="btn btn-outline-secondary border-0 me-2"
                                pTooltip="Assign member" tooltipPosition="bottom" (click)="op1.toggle($event)">
                                <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <g clip-path="url(#clip0_705_22958)">
                                        <path
                                            d="M15.3335 7.33398H14.0001V6.00065C14.0001 5.82384 13.9299 5.65427 13.8049 5.52925C13.6799 5.40422 13.5103 5.33398 13.3335 5.33398C13.1567 5.33398 12.9871 5.40422 12.8621 5.52925C12.737 5.65427 12.6668 5.82384 12.6668 6.00065V7.33398H11.3335C11.1567 7.33398 10.9871 7.40422 10.8621 7.52924C10.737 7.65427 10.6668 7.82384 10.6668 8.00065C10.6668 8.17746 10.737 8.34703 10.8621 8.47205C10.9871 8.59707 11.1567 8.66731 11.3335 8.66731H12.6668V10.0006C12.6668 10.1775 12.737 10.347 12.8621 10.472C12.9871 10.5971 13.1567 10.6673 13.3335 10.6673C13.5103 10.6673 13.6799 10.5971 13.8049 10.472C13.9299 10.347 14.0001 10.1775 14.0001 10.0006V8.66731H15.3335C15.5103 8.66731 15.6798 8.59707 15.8049 8.47205C15.9299 8.34703 16.0001 8.17746 16.0001 8.00065C16.0001 7.82384 15.9299 7.65427 15.8049 7.52924C15.6798 7.40422 15.5103 7.33398 15.3335 7.33398Z"
                                            fill="#7C7C7E" />
                                        <path
                                            d="M6.00024 8C6.79137 8 7.56473 7.76541 8.22253 7.32588C8.88032 6.88635 9.39301 6.26164 9.69576 5.53074C9.99851 4.79983 10.0777 3.99556 9.92339 3.21964C9.76904 2.44372 9.38808 1.73098 8.82867 1.17157C8.26926 0.612165 7.55653 0.231202 6.78061 0.0768607C6.00468 -0.0774802 5.20042 0.00173314 4.46951 0.304484C3.73861 0.607234 3.11389 1.11992 2.67437 1.77772C2.23484 2.43552 2.00024 3.20888 2.00024 4C2.0013 5.06054 2.42307 6.07734 3.17299 6.82726C3.9229 7.57718 4.9397 7.99894 6.00024 8ZM6.00024 1.33334C6.52766 1.33334 7.04323 1.48973 7.48177 1.78275C7.9203 2.07577 8.26209 2.49224 8.46392 2.97951C8.66576 3.46678 8.71857 4.00296 8.61567 4.52024C8.51278 5.03753 8.2588 5.51268 7.88586 5.88562C7.51292 6.25856 7.03777 6.51254 6.52049 6.61543C6.0032 6.71832 5.46703 6.66551 4.97976 6.46368C4.49249 6.26185 4.07601 5.92005 3.78299 5.48152C3.48997 5.04299 3.33358 4.52742 3.33358 4C3.33358 3.29276 3.61453 2.61448 4.11463 2.11438C4.61472 1.61429 5.293 1.33334 6.00024 1.33334Z"
                                            fill="#7C7C7E" />
                                        <path
                                            d="M6.00024 9.33398C4.40949 9.33575 2.88439 9.96846 1.75955 11.0933C0.634716 12.2181 0.00200871 13.7432 0.000244141 15.334C0.000244141 15.5108 0.070482 15.6804 0.195506 15.8054C0.320531 15.9304 0.4901 16.0007 0.666911 16.0007C0.843722 16.0007 1.01329 15.9304 1.13832 15.8054C1.26334 15.6804 1.33358 15.5108 1.33358 15.334C1.33358 14.0963 1.82524 12.9093 2.70041 12.0342C3.57558 11.159 4.76257 10.6673 6.00024 10.6673C7.23792 10.6673 8.42491 11.159 9.30008 12.0342C10.1752 12.9093 10.6669 14.0963 10.6669 15.334C10.6669 15.5108 10.7371 15.6804 10.8622 15.8054C10.9872 15.9304 11.1568 16.0007 11.3336 16.0007C11.5104 16.0007 11.68 15.9304 11.805 15.8054C11.93 15.6804 12.0002 15.5108 12.0002 15.334C11.9985 13.7432 11.3658 12.2181 10.2409 11.0933C9.1161 9.96846 7.591 9.33575 6.00024 9.33398Z"
                                            fill="#7C7C7E" />
                                    </g>
                                    <defs>
                                        <clipPath id="clip0_705_22958">
                                            <rect width="16" height="16" fill="white"
                                                transform="translate(0.000244141)" />
                                        </clipPath>
                                    </defs>
                                </svg>
                            </button>
                            <p-overlayPanel #op1>
                                <ng-template pTemplate>
                                    <div>
                                        <div class="action-title">Assign to</div>
                                        <p-multiSelect [options]="listAssign" [(ngModel)]="selectedAssign"
                                            defaultLabel="Search for Team or Agent" optionLabel="fullname"
                                            display="chip" class="multiselect-custom me-2" [showToggleAll]="false"
                                            (onChange)="onChangeSelectAssign()">
                                        </p-multiSelect>
                                    </div>
                                </ng-template>
                            </p-overlayPanel>

                            <button type="submit" class="btn btn-outline-secondary border-0 me-2" pTooltip="Add label"
                                tooltipPosition="bottom" (click)="op2.toggle($event)">
                                <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <g clip-path="url(#clip0_705_22963)">
                                        <ellipse cx="1.33333" cy="1.33333" rx="1.33333" ry="1.33333"
                                            transform="matrix(1 0 0 -1 10.0002 6)" stroke="#7C7C7E" stroke-width="1.1"
                                            stroke-linecap="round" stroke-linejoin="round" />
                                        <path
                                            d="M1.84971 7.42994C1.18095 8.17684 1.16656 9.30372 1.78033 10.0964C2.9983 11.6695 4.33138 13.0026 5.90444 14.2205C6.69716 14.8343 7.82403 14.8199 8.57094 14.1512C10.5988 12.3354 12.4559 10.4379 14.2481 8.35262C14.4253 8.14646 14.5362 7.89377 14.561 7.62307C14.671 6.42597 14.897 2.9771 13.9604 2.04048C13.0238 1.10386 9.5749 1.32983 8.3778 1.43983C8.1071 1.4647 7.85442 1.57554 7.64826 1.75273C5.56297 3.54496 3.66543 5.40206 1.84971 7.42994Z"
                                            stroke="#7C7C7E" stroke-width="1.4" />
                                    </g>
                                    <defs>
                                        <clipPath id="clip0_705_22963">
                                            <rect width="16" height="16" fill="white"
                                                transform="translate(0.000244141)" />
                                        </clipPath>
                                    </defs>
                                </svg>
                            </button>
                            <p-overlayPanel #op2>
                                <ng-template pTemplate>
                                    <div class="action-title">Add label</div>

                                    <p-multiSelect [options]="listLabelEmail" [(ngModel)]="selectedLabel" display="chip"
                                        defaultLabel="Search for Labels" optionLabel="name" [showToggleAll]="false"
                                        class="multiselect-custom me-2" (onChange)="onChangeSelectLabel()">
                                    </p-multiSelect>
                                </ng-template>
                            </p-overlayPanel>

                            <button type="submit" class="btn btn-outline-secondary border-0 me-2" pTooltip="Add watcher"
                                tooltipPosition="bottom" (click)="op3.toggle($event)">
                                <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <g clip-path="url(#clip0_705_22969)">
                                        <path
                                            d="M15.5142 6.27886C14.4802 4.59486 12.1282 1.76953 8.00016 1.76953C3.87216 1.76953 1.52016 4.59486 0.486156 6.27886C0.166508 6.79587 -0.00280762 7.39169 -0.00280762 7.99953C-0.00280762 8.60737 0.166508 9.20319 0.486156 9.7202C1.52016 11.4042 3.87216 14.2295 8.00016 14.2295C12.1282 14.2295 14.4802 11.4042 15.5142 9.7202C15.8338 9.20319 16.0031 8.60737 16.0031 7.99953C16.0031 7.39169 15.8338 6.79587 15.5142 6.27886ZM14.3775 9.0222C13.4895 10.4662 11.4795 12.8962 8.00016 12.8962C4.52082 12.8962 2.51082 10.4662 1.62282 9.0222C1.43291 8.7149 1.33232 8.36078 1.33232 7.99953C1.33232 7.63828 1.43291 7.28417 1.62282 6.97686C2.51082 5.53286 4.52082 3.10286 8.00016 3.10286C11.4795 3.10286 13.4895 5.5302 14.3775 6.97686C14.5674 7.28417 14.668 7.63828 14.668 7.99953C14.668 8.36078 14.5674 8.7149 14.3775 9.0222Z"
                                            fill="#7C7C7E" />
                                        <path
                                            d="M8.00008 4.66602C7.34081 4.66602 6.69635 4.86151 6.14818 5.22778C5.60002 5.59405 5.17278 6.11465 4.92048 6.72374C4.66819 7.33283 4.60218 8.00305 4.7308 8.64965C4.85942 9.29625 5.17689 9.8902 5.64306 10.3564C6.10924 10.8225 6.70318 11.14 7.34978 11.2686C7.99639 11.3973 8.66661 11.3312 9.27569 11.0789C9.88478 10.8267 10.4054 10.3994 10.7716 9.85125C11.1379 9.30309 11.3334 8.65862 11.3334 7.99935C11.3324 7.11562 10.9808 6.26839 10.3559 5.6435C9.73104 5.0186 8.88381 4.66707 8.00008 4.66602ZM8.00008 9.99935C7.60452 9.99935 7.21784 9.88205 6.88894 9.66229C6.56004 9.44253 6.3037 9.13017 6.15232 8.76472C6.00095 8.39926 5.96134 7.99713 6.03851 7.60917C6.11568 7.22121 6.30616 6.86484 6.58587 6.58514C6.86557 6.30543 7.22194 6.11495 7.6099 6.03778C7.99786 5.96061 8.4 6.00021 8.76545 6.15159C9.1309 6.30297 9.44326 6.55931 9.66302 6.88821C9.88278 7.21711 10.0001 7.60379 10.0001 7.99935C10.0001 8.52978 9.78937 9.03849 9.4143 9.41356C9.03922 9.78864 8.53052 9.99935 8.00008 9.99935Z"
                                            fill="#7C7C7E" />
                                    </g>
                                    <defs>
                                        <clipPath id="clip0_705_22969">
                                            <rect width="16" height="16" fill="white"
                                                transform="translate(0.000244141)" />
                                        </clipPath>
                                    </defs>
                                </svg>
                            </button>
                            <p-overlayPanel #op3>
                                <ng-template pTemplate>
                                    <div class="action-title">Add watcher</div>

                                    <p-multiSelect [options]="listFollow" [(ngModel)]="selectedFollow" display="chip"
                                        defaultLabel="Search for Watchers" optionLabel="fullname"
                                        [showToggleAll]="false" class="multiselect-custom me-2"
                                        (onChange)="onChangeSelectFollow()">
                                    </p-multiSelect>
                                </ng-template>
                            </p-overlayPanel>

                            <button class="btn btn-outline-secondary border-0 me-2" (click)="displayDelete = true"
                                pTooltip="Delete" tooltipPosition="bottom">
                                <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <g clip-path="url(#clip0_705_22973)">
                                        <path
                                            d="M14.0002 2.66667H11.9335C11.7788 1.91428 11.3694 1.23823 10.7743 0.752479C10.1793 0.266727 9.43497 0.000969683 8.66683 0L7.3335 0C6.56536 0.000969683 5.82104 0.266727 5.226 0.752479C4.63095 1.23823 4.22156 1.91428 4.06683 2.66667H2.00016C1.82335 2.66667 1.65378 2.7369 1.52876 2.86193C1.40373 2.98695 1.3335 3.15652 1.3335 3.33333C1.3335 3.51014 1.40373 3.67971 1.52876 3.80474C1.65378 3.92976 1.82335 4 2.00016 4H2.66683V12.6667C2.66789 13.5504 3.01942 14.3976 3.64431 15.0225C4.2692 15.6474 5.11643 15.9989 6.00016 16H10.0002C10.8839 15.9989 11.7311 15.6474 12.356 15.0225C12.9809 14.3976 13.3324 13.5504 13.3335 12.6667V4H14.0002C14.177 4 14.3465 3.92976 14.4716 3.80474C14.5966 3.67971 14.6668 3.51014 14.6668 3.33333C14.6668 3.15652 14.5966 2.98695 14.4716 2.86193C14.3465 2.7369 14.177 2.66667 14.0002 2.66667ZM7.3335 1.33333H8.66683C9.08035 1.33384 9.48358 1.46225 9.82124 1.70096C10.1589 1.93967 10.4144 2.27699 10.5528 2.66667H5.4475C5.58588 2.27699 5.84143 1.93967 6.17909 1.70096C6.51674 1.46225 6.91998 1.33384 7.3335 1.33333ZM12.0002 12.6667C12.0002 13.1971 11.7894 13.7058 11.4144 14.0809C11.0393 14.456 10.5306 14.6667 10.0002 14.6667H6.00016C5.46973 14.6667 4.96102 14.456 4.58595 14.0809C4.21088 13.7058 4.00016 13.1971 4.00016 12.6667V4H12.0002V12.6667Z"
                                            fill="#7C7C7E" />
                                        <path
                                            d="M6.66691 11.9993C6.84372 11.9993 7.01329 11.9291 7.13831 11.8041C7.26334 11.6791 7.33357 11.5095 7.33357 11.3327V7.33268C7.33357 7.15587 7.26334 6.9863 7.13831 6.86128C7.01329 6.73625 6.84372 6.66602 6.66691 6.66602C6.4901 6.66602 6.32053 6.73625 6.19551 6.86128C6.07048 6.9863 6.00024 7.15587 6.00024 7.33268V11.3327C6.00024 11.5095 6.07048 11.6791 6.19551 11.8041C6.32053 11.9291 6.4901 11.9993 6.66691 11.9993Z"
                                            fill="#7C7C7E" />
                                        <path
                                            d="M9.33348 11.9993C9.51029 11.9993 9.67986 11.9291 9.80489 11.8041C9.92991 11.6791 10.0002 11.5095 10.0002 11.3327V7.33268C10.0002 7.15587 9.92991 6.9863 9.80489 6.86128C9.67986 6.73625 9.51029 6.66602 9.33348 6.66602C9.15667 6.66602 8.9871 6.73625 8.86207 6.86128C8.73705 6.9863 8.66681 7.15587 8.66681 7.33268V11.3327C8.66681 11.5095 8.73705 11.6791 8.86207 11.8041C8.9871 11.9291 9.15667 11.9993 9.33348 11.9993Z"
                                            fill="#7C7C7E" />
                                    </g>
                                    <defs>
                                        <clipPath id="clip0_705_22973">
                                            <rect width="16" height="16" fill="white"
                                                transform="translate(0.000244141)" />
                                        </clipPath>
                                    </defs>
                                </svg>
                            </button>

                            <p-dropdown [options]="listStatusUpdate" [(ngModel)]="mailDetails.status"
                                id="dropdown-status" placeholder="select" optionValue="id" optionLabel="statusName"
                                (onChange)="updateStatus()">
                                <ng-template pTemplate="selectedItem">
                                    <div class="country-item country-item-value" *ngIf="mailDetails.status">
                                        <span class="country-item" style="color: #FFFFFF">
                                            {{statusName}}
                                        </span>
                                    </div>
                                </ng-template>
                                <ng-template let-item pTemplate="item">
                                    <div class="status-item"
                                        [ngClass]="{'btn-outline-secondary' : item.id == 1,'btn-success': item.id == 2, 'btn-primary': item.id == 3}">
                                        <span class="status-name">{{item.statusName}}</span>
                                    </div>
                                </ng-template>
                            </p-dropdown>
                        </div>
                    </div>
                </div>
            </div>

        </div>
        <div class="messages-and-sidebar container" id="box-messages">
            <div class="row w-100">
                <div class="col-md-12">
                    <div class="view-box fill-height">
                        <ul class="conversation-panel" *ngIf="listMessenger && listMessenger.length > 0">
                            <ng-template ngFor let-item [ngForOf]="listMessenger" let-i="index">
                                <li class="message-read mt-3"
                                    [ngClass]="{'mess-in': item.type == 1, 'mess-out': item.type == 2, 'mess-center': item.type == 3, 'mess-note': item.type == 4}">
                                    <div class="activity-wrap">
                                        <div class="message-time mb-1 text-align-right">
                                            <span class="time">
                                                {{item.dateTime | date:'MM/dd/yy h:mm a'}}
                                            </span>
                                        </div>
                                        <div class="message-text">
                                            <ckeditor id="message{{item.id}}" [editor]="Editor" [data]="item.messenger"
                                                [disabled]="readonly"></ckeditor>
                                        </div>
                                    </div>
                                </li>
                            </ng-template>
                        </ul>
                        <div *ngIf="!listMessenger || listMessenger.length == 0"
                            class="current-chat d-flex align-items-center justify-content-center">
                            <div>
                                <img src="//d3tq67kexc2w2i.cloudfront.net/packs/media/dashboard/assets/images/chat-a06542d766feaecc071c3a2b77f313e8.svg"
                                    alt="No Chat" style="width: 100px">
                                <span>Please select a conversation from left pane</span>
                            </div>
                        </div>
                        <div class="fit-chat">
                            <p-tabView>
                                <p-tabPanel>
                                    <ng-template pTemplate="header">
                                        <span class="reply-tab">
                                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <g clip-path="url(#clip0_1066_13854)">
                                                    <path
                                                        d="M11.3336 12.6667C11.3336 14.5067 9.84025 16.0001 8.00025 16.0001H3.33358C1.49358 16.0001 0.000244141 14.5067 0.000244141 12.6667V8.00008C0.000244141 6.16008 1.49358 4.66675 3.33358 4.66675H4.00025C4.36691 4.66675 4.66691 4.96675 4.66691 5.33341C4.66691 5.70008 4.36691 6.00008 4.00025 6.00008H3.33358C2.23358 6.00008 1.33358 6.90008 1.33358 8.00008V12.6667C1.33358 13.7667 2.23358 14.6667 3.33358 14.6667H8.00025C9.10025 14.6667 10.0002 13.7667 10.0002 12.6667C10.0002 12.3001 10.3002 12.0001 10.6669 12.0001C11.0336 12.0001 11.3336 12.3001 11.3336 12.6667Z"
                                                        fill="currentColor" />
                                                    <path
                                                        d="M14.3689 4.38407L11.5598 1.48158C11.3625 1.27389 11.0302 1.2687 10.8277 1.47119C10.6252 1.67369 10.6148 2.00081 10.8173 2.20331L13.4862 4.95522H9.10908C7.67601 4.95522 6.51294 6.11829 6.51294 7.55136V10.1475C6.51294 10.4331 6.74659 10.6667 7.03217 10.6667C7.31774 10.6667 7.5514 10.4331 7.5514 10.1475V7.55136C7.5514 6.69464 8.25236 5.99368 9.10908 5.99368H13.481L10.8122 8.74559C10.6148 8.95328 10.6148 9.2804 10.8225 9.4777C10.9212 9.57636 11.0562 9.62309 11.186 9.62309C11.3158 9.62309 11.456 9.57116 11.5598 9.46732L14.3637 6.57521C14.9712 5.96772 14.9712 4.98118 14.3689 4.37888V4.38407Z"
                                                        fill="currentColor" stroke="white" stroke-width="0.3" />
                                                </g>
                                                <defs>
                                                    <clipPath id="clip0_1066_13854">
                                                        <rect width="16" height="16" fill="currentColor"
                                                            transform="translate(0.000244141)" />
                                                    </clipPath>
                                                </defs>
                                            </svg>

                                            <span class="reply-header">Reply</span>
                                        </span>
                                    </ng-template>
                                    <div class="conversation-footer">
                                        <ckeditor [editor]="Editor" [(ngModel)]="messenger" [data]="signature">
                                        </ckeditor>
                                        <div class="group-submit">
                                            <div class="d-flex align-items-center justify-content-between">
                                                <div class="btn-left">
                                                    <span class="chat-icon">
                                                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <g clip-path="url(#clip0_1219_13707)">
                                                                <path
                                                                    d="M8.00025 16C6.418 16 4.87128 15.5308 3.55569 14.6518C2.24009 13.7727 1.21471 12.5233 0.609212 11.0615C0.00371043 9.59966 -0.154716 7.99113 0.153966 6.43928C0.462647 4.88743 1.22457 3.46197 2.34339 2.34315C3.46221 1.22433 4.88768 0.462403 6.43953 0.153721C7.99137 -0.15496 9.59991 0.00346629 11.0617 0.608967C12.5235 1.21447 13.773 2.23985 14.652 3.55544C15.5311 4.87104 16.0002 6.41775 16.0002 8C15.998 10.121 15.1544 12.1545 13.6546 13.6543C12.1548 15.1541 10.1213 15.9977 8.00025 16ZM8.00025 1.33334C6.68171 1.33334 5.39277 1.72433 4.29645 2.45687C3.20012 3.18942 2.34564 4.23061 1.84105 5.44878C1.33647 6.66695 1.20444 8.0074 1.46168 9.30061C1.71891 10.5938 2.35385 11.7817 3.2862 12.714C4.21855 13.6464 5.40644 14.2813 6.69965 14.5386C7.99285 14.7958 9.3333 14.6638 10.5515 14.1592C11.7696 13.6546 12.8108 12.8001 13.5434 11.7038C14.2759 10.6075 14.6669 9.31855 14.6669 8C14.665 6.23249 13.962 4.53792 12.7121 3.2881C11.4623 2.03828 9.76776 1.33528 8.00025 1.33334ZM5.33358 9.33334C5.22954 9.33287 5.12683 9.35676 5.03368 9.4031C4.94052 9.44944 4.85951 9.51694 4.79711 9.6002C4.73472 9.68345 4.69268 9.78016 4.67435 9.88258C4.65603 9.98499 4.66193 10.0903 4.69158 10.19C4.93044 10.8883 5.37449 11.4983 5.96564 11.9402C6.55679 12.3821 7.26753 12.6353 8.00492 12.6667C8.74261 12.6376 9.45409 12.3852 10.0452 11.943C10.6364 11.5007 11.0794 10.8895 11.3156 10.19C11.3423 10.0904 11.346 9.98607 11.3264 9.88484C11.3069 9.78361 11.2646 9.68814 11.2028 9.60563C11.141 9.52313 11.0612 9.45575 10.9695 9.40858C10.8778 9.36141 10.7767 9.33568 10.6736 9.33334H5.33358ZM4.00025 6.66667C4.00025 7.33334 4.59691 7.33334 5.33358 7.33334C6.07025 7.33334 6.66691 7.33334 6.66691 6.66667C6.66691 6.31305 6.52644 5.97391 6.27639 5.72386C6.02634 5.47381 5.6872 5.33334 5.33358 5.33334C4.97996 5.33334 4.64082 5.47381 4.39077 5.72386C4.14072 5.97391 4.00025 6.31305 4.00025 6.66667ZM9.33358 6.66667C9.33358 7.33334 9.93025 7.33334 10.6669 7.33334C11.4036 7.33334 12.0002 7.33334 12.0002 6.66667C12.0002 6.31305 11.8598 5.97391 11.6097 5.72386C11.3597 5.47381 11.0205 5.33334 10.6669 5.33334C10.3133 5.33334 9.97415 5.47381 9.72411 5.72386C9.47406 5.97391 9.33358 6.31305 9.33358 6.66667Z"
                                                                    fill="#343436" />
                                                            </g>
                                                            <defs>
                                                                <clipPath id="clip0_1219_13707">
                                                                    <rect width="16" height="16" fill="white"
                                                                        transform="translate(0.000244141)" />
                                                                </clipPath>
                                                            </defs>
                                                        </svg>
                                                    </span>
                                                    <label class="chat-icon" for="attachment">
                                                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <g clip-path="url(#clip0_1219_13710)">
                                                                <path
                                                                    d="M15.3002 6.39996C15.1752 6.27498 15.0057 6.20477 14.8289 6.20477C14.6521 6.20477 14.4826 6.27498 14.3576 6.39996L7.09624 13.6926C6.78672 14.0022 6.41925 14.2478 6.01482 14.4153C5.61039 14.5829 5.17691 14.6691 4.73915 14.6692C3.85504 14.6692 3.00711 14.3181 2.38191 13.693C1.75671 13.0678 1.40544 12.22 1.40537 11.3359C1.40531 10.4518 1.75646 9.60383 2.38158 8.97863L9.41424 1.91729C9.7903 1.54722 10.2974 1.34074 10.825 1.34283C11.3526 1.34491 11.858 1.5554 12.2311 1.92843C12.6042 2.30147 12.8148 2.80683 12.817 3.33443C12.8193 3.86204 12.6129 4.36915 12.2429 4.74529L5.21024 11.8066C5.08341 11.9281 4.91455 11.996 4.73891 11.996C4.56327 11.996 4.39441 11.9281 4.26758 11.8066C4.1426 11.6816 4.07239 11.5121 4.07239 11.3353C4.07239 11.1585 4.1426 10.989 4.26758 10.864L10.5289 4.57396C10.6503 4.44823 10.7175 4.27982 10.716 4.10503C10.7145 3.93023 10.6444 3.76302 10.5208 3.63942C10.3972 3.51581 10.23 3.4457 10.0552 3.44418C9.88038 3.44266 9.71198 3.50986 9.58624 3.63129L3.32491 9.92129C3.13916 10.107 2.99181 10.3275 2.89128 10.5702C2.79075 10.8129 2.739 11.073 2.739 11.3356C2.739 11.5983 2.79075 11.8584 2.89128 12.1011C2.99181 12.3437 3.13916 12.5642 3.32491 12.75C3.70599 13.1136 4.2125 13.3165 4.73924 13.3165C5.26599 13.3165 5.7725 13.1136 6.15358 12.75L13.1856 5.68796C13.7976 5.06016 14.1376 4.21653 14.132 3.33981C14.1264 2.46309 13.7756 1.62388 13.1556 1.00398C12.5356 0.384072 11.6963 0.0333909 10.8196 0.0278975C9.94287 0.0224042 9.09929 0.362542 8.47158 0.974627L1.43891 8.03596C0.563697 8.91117 0.0720062 10.0982 0.0720062 11.336C0.0720062 12.5737 0.563697 13.7607 1.43891 14.636C2.31413 15.5112 3.50117 16.0029 4.73891 16.0029C5.97665 16.0029 7.1637 15.5112 8.03891 14.636L15.3002 7.34529C15.3625 7.28334 15.412 7.20969 15.4457 7.12858C15.4794 7.04746 15.4968 6.96048 15.4968 6.87263C15.4968 6.78478 15.4794 6.6978 15.4457 6.61668C15.412 6.53556 15.3625 6.46191 15.3002 6.39996Z"
                                                                    fill="#343436" />
                                                            </g>
                                                            <defs>
                                                                <clipPath id="clip0_1219_13710">
                                                                    <rect width="16" height="16" fill="white"
                                                                        transform="translate(0.000244141)" />
                                                                </clipPath>
                                                            </defs>
                                                        </svg>
                                                    </label>
                                                    <span class="chat-icon">
                                                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <path fill-rule="evenodd" clip-rule="evenodd"
                                                                d="M2.66692 5.33333C2.66692 2.38781 5.05473 0 8.00025 0C10.9458 0 13.3336 2.38781 13.3336 5.33333V8C13.3336 10.9455 10.9458 13.3333 8.00025 13.3333C5.05473 13.3333 2.66692 10.9455 2.66692 8V5.33333ZM8.00025 1.33333C5.79111 1.33333 4.00025 3.12419 4.00025 5.33333V8C4.00025 10.2091 5.79111 12 8.00025 12C10.2094 12 12.0002 10.2091 12.0002 8V5.33333C12.0002 3.12419 10.2094 1.33333 8.00025 1.33333Z"
                                                                fill="#1E1E1E" />
                                                            <path fill-rule="evenodd" clip-rule="evenodd"
                                                                d="M0.666911 6.93335C1.0351 6.93335 1.33358 7.23183 1.33358 7.60002V8.66668C1.33358 11.9804 4.01987 14.6667 7.33358 14.6667H8.66691C11.9806 14.6667 14.6669 11.9804 14.6669 8.66668V7.60002C14.6669 7.23183 14.9654 6.93335 15.3336 6.93335C15.7018 6.93335 16.0002 7.23183 16.0002 7.60002V8.66668C16.0002 12.7168 12.717 16 8.66691 16H7.33358C3.28349 16 0.000244141 12.7168 0.000244141 8.66668V7.60002C0.000244141 7.23183 0.298721 6.93335 0.666911 6.93335Z"
                                                                fill="#1E1E1E" />
                                                        </svg>
                                                    </span>
                                                    <span class="chat-icon">
                                                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <g clip-path="url(#clip0_1219_13718)">
                                                                <path
                                                                    d="M9.61135 3.20003H15.7225C15.7961 3.20003 15.8668 3.12979 15.9189 3.00477C15.971 2.87975 16.0002 2.71018 16.0002 2.53337C16.0002 2.35655 15.971 2.18699 15.9189 2.06196C15.8668 1.93694 15.7961 1.8667 15.7225 1.8667H9.61135C9.53768 1.8667 9.46703 1.93694 9.41493 2.06196C9.36284 2.18699 9.33357 2.35655 9.33357 2.53337C9.33357 2.71018 9.36284 2.87975 9.41493 3.00477C9.46703 3.12979 9.53768 3.20003 9.61135 3.20003Z"
                                                                    fill="#343436" />
                                                                <path
                                                                    d="M15.5836 5.33325H9.75024C9.63973 5.33325 9.53375 5.40349 9.45561 5.52851C9.37747 5.65354 9.33357 5.82311 9.33357 5.99992C9.33357 6.17673 9.37747 6.3463 9.45561 6.47132C9.53375 6.59635 9.63973 6.66659 9.75024 6.66659H15.5836C15.6941 6.66659 15.8001 6.59635 15.8782 6.47132C15.9563 6.3463 16.0002 6.17673 16.0002 5.99992C16.0002 5.82311 15.9563 5.65354 15.8782 5.52851C15.8001 5.40349 15.6941 5.33325 15.5836 5.33325Z"
                                                                    fill="#343436" />
                                                                <path
                                                                    d="M15.3336 12.5332H0.666911C0.4901 12.5332 0.320531 12.621 0.195506 12.7773C0.0704821 12.9336 0.000244141 13.1455 0.000244141 13.3665C0.000244141 13.5876 0.0704821 13.7995 0.195506 13.9558C0.320531 14.1121 0.4901 14.1999 0.666911 14.1999H15.3336C15.5104 14.1999 15.68 14.1121 15.805 13.9558C15.93 13.7995 16.0002 13.5876 16.0002 13.3665C16.0002 13.1455 15.93 12.9336 15.805 12.7773C15.68 12.621 15.5104 12.5332 15.3336 12.5332Z"
                                                                    fill="#343436" />
                                                                <path
                                                                    d="M15.5836 8.6665H9.75024C9.63973 8.6665 9.53375 8.73674 9.45561 8.86177C9.37747 8.98679 9.33357 9.15636 9.33357 9.33317C9.33357 9.50998 9.37747 9.67955 9.45561 9.80457C9.53375 9.9296 9.63973 9.99984 9.75024 9.99984H15.5836C15.6941 9.99984 15.8001 9.9296 15.8782 9.80457C15.9563 9.67955 16.0002 9.50998 16.0002 9.33317C16.0002 9.15636 15.9563 8.98679 15.8782 8.86177C15.8001 8.73674 15.6941 8.6665 15.5836 8.6665Z"
                                                                    fill="#343436" />
                                                                <path
                                                                    d="M4.93111 1.67324C4.86961 1.56961 4.78233 1.48379 4.67781 1.42419C4.5733 1.36459 4.45513 1.33325 4.33491 1.33325C4.21469 1.33325 4.09653 1.36459 3.99201 1.42419C3.8875 1.48379 3.80021 1.56961 3.73871 1.67324L0.0728837 9.0278C0.03295 9.10642 0.0089261 9.1922 0.00219714 9.28018C-0.00453182 9.36816 0.00616725 9.45661 0.0336775 9.54042C0.0611878 9.62424 0.104965 9.70176 0.162485 9.76852C0.220005 9.83528 0.29013 9.88996 0.368818 9.9294C0.447505 9.96885 0.533197 9.99228 0.620954 9.99834C0.708712 10.0044 0.796797 9.99298 0.880133 9.96473C0.963469 9.93648 1.04041 9.89197 1.10651 9.83375C1.17261 9.77553 1.22657 9.70476 1.26528 9.62552L2.41102 7.32087H6.25281L7.40188 9.62552C7.44059 9.70476 7.49454 9.77553 7.56065 9.83375C7.62675 9.89197 7.70369 9.93648 7.78702 9.96473C7.87036 9.99298 7.95844 10.0044 8.0462 9.99834C8.13396 9.99228 8.21965 9.96885 8.29834 9.9294C8.37703 9.88996 8.44715 9.83528 8.50467 9.76852C8.56219 9.70176 8.60597 9.62424 8.63348 9.54042C8.66099 9.45661 8.67169 9.36816 8.66496 9.28018C8.65823 9.1922 8.63421 9.10642 8.59427 9.0278L4.93111 1.67324ZM3.07753 5.98368L4.33125 3.46708L5.58629 5.98368H3.07753Z"
                                                                    fill="#343436" />
                                                            </g>
                                                            <defs>
                                                                <clipPath id="clip0_1219_13718">
                                                                    <rect width="16" height="16" fill="white"
                                                                        transform="translate(0.000244141)" />
                                                                </clipPath>
                                                            </defs>
                                                        </svg>
                                                    </span>
                                                    <input type="file" name="file[]" id="attachment"
                                                        (change)="onUpload($event)"
                                                        style="visibility: hidden; position: absolute;" multiple />
                                                    <div>
                                                        <div *ngFor="let item of uploadedFiles">{{item.name}}</div>
                                                    </div>
                                                </div>
                                                <div class="btn-right d-flex align-items-center">
                                                    <button class="btn btn-primary btn-send" (click)="sendMessenger()"
                                                        [disabled]="!messenger || sending">
                                                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <path
                                                                d="M13.5095 6.18122L3.53468 1.48861C2.97124 1.21466 2.30721 1.30913 1.84101 1.7281C1.37369 2.14874 1.21144 2.80221 1.42704 3.39233C1.43648 3.41622 3.87809 8.00215 3.87809 8.00215C3.87809 8.00215 1.48149 12.587 1.47316 12.6103C1.25811 13.201 1.42203 13.8533 1.88935 14.2734C2.17885 14.5329 2.54448 14.6668 2.91234 14.6668C3.1396 14.6668 3.36743 14.6157 3.57969 14.5118L13.5106 9.82307C14.2246 9.488 14.668 8.79009 14.6675 8.00159C14.6675 7.21254 14.2224 6.51463 13.5095 6.18122ZM2.46058 2.98058C2.39279 2.74997 2.53726 2.59716 2.58449 2.55382C2.63395 2.50993 2.81454 2.37379 3.05014 2.48937C3.05292 2.49048 13.0377 7.18754 13.0377 7.18754C13.1705 7.24977 13.2811 7.33757 13.3661 7.44426H4.8405L2.46058 2.98058ZM13.0372 8.81731L3.09737 13.5105C2.86121 13.6266 2.68118 13.491 2.63172 13.446C2.58394 13.4038 2.43946 13.2499 2.50781 13.0187L4.84273 8.55559H13.3695C13.2844 8.66395 13.1716 8.75397 13.0372 8.81731Z"
                                                                fill="currentColor" />
                                                        </svg>
                                                    </button>

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </p-tabPanel>
                                <p-tabPanel>
                                    <ng-template pTemplate="header">
                                        <span class="reply-tab">
                                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <path fill-rule="evenodd" clip-rule="evenodd"
                                                    d="M7.2848 1.33325L7.33357 1.33325C7.70176 1.33325 8.00024 1.63173 8.00024 1.99992C8.00024 2.36811 7.70176 2.66659 7.33357 2.66659C6.05765 2.66659 5.16777 2.668 4.49635 2.75827C3.8441 2.84596 3.4987 3.00636 3.25269 3.25237C3.00668 3.49838 2.84628 3.84378 2.75859 4.49603C2.66832 5.16745 2.66691 6.05733 2.66691 7.33325V8.66659C2.66691 9.94251 2.66832 10.8324 2.75859 11.5038C2.84628 12.1561 3.00668 12.5015 3.25269 12.7475C3.4987 12.9935 3.8441 13.1539 4.49635 13.2416C5.16777 13.3318 6.05765 13.3333 7.33357 13.3333H8.66691C9.94283 13.3333 10.8327 13.3318 11.5041 13.2416C12.1564 13.1539 12.5018 12.9935 12.7478 12.7475C12.9938 12.5015 13.1542 12.1561 13.2419 11.5038C13.3322 10.8324 13.3336 9.94251 13.3336 8.66659C13.3336 8.2984 13.6321 7.99992 14.0002 7.99992C14.3684 7.99992 14.6669 8.2984 14.6669 8.66659V8.71534C14.6669 9.93099 14.6669 10.9108 14.5633 11.6815C14.4558 12.4816 14.2256 13.1552 13.6906 13.6903C13.1556 14.2253 12.4819 14.4554 11.6818 14.563C10.9112 14.6666 9.93131 14.6666 8.71566 14.6666H7.28481C6.06917 14.6666 5.08932 14.6666 4.31868 14.563C3.51859 14.4554 2.84492 14.2253 2.30988 13.6903C1.77485 13.1552 1.54472 12.4816 1.43715 11.6815C1.33354 10.9108 1.33355 9.931 1.33357 8.71536V7.28448C1.33355 6.06884 1.33354 5.089 1.43715 4.31836C1.54472 3.51827 1.77485 2.8446 2.30988 2.30956C2.84492 1.77453 3.51859 1.5444 4.31868 1.43683C5.08932 1.33322 6.06916 1.33323 7.2848 1.33325Z"
                                                    fill="currentColor" />
                                                <path
                                                    d="M14.0002 3.33325H12.6669V1.99992C12.6669 1.82311 12.5967 1.65354 12.4716 1.52851C12.3466 1.40349 12.177 1.33325 12.0002 1.33325C11.8234 1.33325 11.6539 1.40349 11.5288 1.52851C11.4038 1.65354 11.3336 1.82311 11.3336 1.99992V3.33325H10.0002C9.82343 3.33325 9.65386 3.40349 9.52883 3.52851C9.40381 3.65353 9.33357 3.8231 9.33357 3.99991C9.33357 4.17672 9.40381 4.34629 9.52883 4.47132C9.65386 4.59634 9.82343 4.66658 10.0002 4.66658H11.3336V5.99991C11.3336 6.17672 11.4038 6.34629 11.5288 6.47131C11.6539 6.59634 11.8234 6.66658 12.0002 6.66658C12.177 6.66658 12.3466 6.59634 12.4716 6.47131C12.5967 6.34629 12.6669 6.17672 12.6669 5.99991V4.66658H14.0002C14.177 4.66658 14.3466 4.59634 14.4716 4.47132C14.5967 4.34629 14.6669 4.17672 14.6669 3.99991C14.6669 3.8231 14.5967 3.65353 14.4716 3.52851C14.3466 3.40349 14.177 3.33325 14.0002 3.33325Z"
                                                    fill="currentColor" />
                                            </svg>
                                            <span class="reply-header">Private note</span>
                                        </span>
                                    </ng-template>

                                    <div class="conversation-footer">
                                        <textarea [rows]="3" pInputTextarea [autoResize]="true"
                                            [(ngModel)]="note"></textarea>
                                        <div class="group-submit">
                                            <div class="d-flex align-items-center justify-content-between">
                                                <div class="btn-left">
                                                    <span class="chat-icon">
                                                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <g clip-path="url(#clip0_1219_13707)">
                                                                <path
                                                                    d="M8.00025 16C6.418 16 4.87128 15.5308 3.55569 14.6518C2.24009 13.7727 1.21471 12.5233 0.609212 11.0615C0.00371043 9.59966 -0.154716 7.99113 0.153966 6.43928C0.462647 4.88743 1.22457 3.46197 2.34339 2.34315C3.46221 1.22433 4.88768 0.462403 6.43953 0.153721C7.99137 -0.15496 9.59991 0.00346629 11.0617 0.608967C12.5235 1.21447 13.773 2.23985 14.652 3.55544C15.5311 4.87104 16.0002 6.41775 16.0002 8C15.998 10.121 15.1544 12.1545 13.6546 13.6543C12.1548 15.1541 10.1213 15.9977 8.00025 16ZM8.00025 1.33334C6.68171 1.33334 5.39277 1.72433 4.29645 2.45687C3.20012 3.18942 2.34564 4.23061 1.84105 5.44878C1.33647 6.66695 1.20444 8.0074 1.46168 9.30061C1.71891 10.5938 2.35385 11.7817 3.2862 12.714C4.21855 13.6464 5.40644 14.2813 6.69965 14.5386C7.99285 14.7958 9.3333 14.6638 10.5515 14.1592C11.7696 13.6546 12.8108 12.8001 13.5434 11.7038C14.2759 10.6075 14.6669 9.31855 14.6669 8C14.665 6.23249 13.962 4.53792 12.7121 3.2881C11.4623 2.03828 9.76776 1.33528 8.00025 1.33334ZM5.33358 9.33334C5.22954 9.33287 5.12683 9.35676 5.03368 9.4031C4.94052 9.44944 4.85951 9.51694 4.79711 9.6002C4.73472 9.68345 4.69268 9.78016 4.67435 9.88258C4.65603 9.98499 4.66193 10.0903 4.69158 10.19C4.93044 10.8883 5.37449 11.4983 5.96564 11.9402C6.55679 12.3821 7.26753 12.6353 8.00492 12.6667C8.74261 12.6376 9.45409 12.3852 10.0452 11.943C10.6364 11.5007 11.0794 10.8895 11.3156 10.19C11.3423 10.0904 11.346 9.98607 11.3264 9.88484C11.3069 9.78361 11.2646 9.68814 11.2028 9.60563C11.141 9.52313 11.0612 9.45575 10.9695 9.40858C10.8778 9.36141 10.7767 9.33568 10.6736 9.33334H5.33358ZM4.00025 6.66667C4.00025 7.33334 4.59691 7.33334 5.33358 7.33334C6.07025 7.33334 6.66691 7.33334 6.66691 6.66667C6.66691 6.31305 6.52644 5.97391 6.27639 5.72386C6.02634 5.47381 5.6872 5.33334 5.33358 5.33334C4.97996 5.33334 4.64082 5.47381 4.39077 5.72386C4.14072 5.97391 4.00025 6.31305 4.00025 6.66667ZM9.33358 6.66667C9.33358 7.33334 9.93025 7.33334 10.6669 7.33334C11.4036 7.33334 12.0002 7.33334 12.0002 6.66667C12.0002 6.31305 11.8598 5.97391 11.6097 5.72386C11.3597 5.47381 11.0205 5.33334 10.6669 5.33334C10.3133 5.33334 9.97415 5.47381 9.72411 5.72386C9.47406 5.97391 9.33358 6.31305 9.33358 6.66667Z"
                                                                    fill="#343436" />
                                                            </g>
                                                            <defs>
                                                                <clipPath id="clip0_1219_13707">
                                                                    <rect width="16" height="16" fill="white"
                                                                        transform="translate(0.000244141)" />
                                                                </clipPath>
                                                            </defs>
                                                        </svg>
                                                    </span>
                                                    <label class="chat-icon" for="attachment">
                                                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <g clip-path="url(#clip0_1219_13710)">
                                                                <path
                                                                    d="M15.3002 6.39996C15.1752 6.27498 15.0057 6.20477 14.8289 6.20477C14.6521 6.20477 14.4826 6.27498 14.3576 6.39996L7.09624 13.6926C6.78672 14.0022 6.41925 14.2478 6.01482 14.4153C5.61039 14.5829 5.17691 14.6691 4.73915 14.6692C3.85504 14.6692 3.00711 14.3181 2.38191 13.693C1.75671 13.0678 1.40544 12.22 1.40537 11.3359C1.40531 10.4518 1.75646 9.60383 2.38158 8.97863L9.41424 1.91729C9.7903 1.54722 10.2974 1.34074 10.825 1.34283C11.3526 1.34491 11.858 1.5554 12.2311 1.92843C12.6042 2.30147 12.8148 2.80683 12.817 3.33443C12.8193 3.86204 12.6129 4.36915 12.2429 4.74529L5.21024 11.8066C5.08341 11.9281 4.91455 11.996 4.73891 11.996C4.56327 11.996 4.39441 11.9281 4.26758 11.8066C4.1426 11.6816 4.07239 11.5121 4.07239 11.3353C4.07239 11.1585 4.1426 10.989 4.26758 10.864L10.5289 4.57396C10.6503 4.44823 10.7175 4.27982 10.716 4.10503C10.7145 3.93023 10.6444 3.76302 10.5208 3.63942C10.3972 3.51581 10.23 3.4457 10.0552 3.44418C9.88038 3.44266 9.71198 3.50986 9.58624 3.63129L3.32491 9.92129C3.13916 10.107 2.99181 10.3275 2.89128 10.5702C2.79075 10.8129 2.739 11.073 2.739 11.3356C2.739 11.5983 2.79075 11.8584 2.89128 12.1011C2.99181 12.3437 3.13916 12.5642 3.32491 12.75C3.70599 13.1136 4.2125 13.3165 4.73924 13.3165C5.26599 13.3165 5.7725 13.1136 6.15358 12.75L13.1856 5.68796C13.7976 5.06016 14.1376 4.21653 14.132 3.33981C14.1264 2.46309 13.7756 1.62388 13.1556 1.00398C12.5356 0.384072 11.6963 0.0333909 10.8196 0.0278975C9.94287 0.0224042 9.09929 0.362542 8.47158 0.974627L1.43891 8.03596C0.563697 8.91117 0.0720062 10.0982 0.0720062 11.336C0.0720062 12.5737 0.563697 13.7607 1.43891 14.636C2.31413 15.5112 3.50117 16.0029 4.73891 16.0029C5.97665 16.0029 7.1637 15.5112 8.03891 14.636L15.3002 7.34529C15.3625 7.28334 15.412 7.20969 15.4457 7.12858C15.4794 7.04746 15.4968 6.96048 15.4968 6.87263C15.4968 6.78478 15.4794 6.6978 15.4457 6.61668C15.412 6.53556 15.3625 6.46191 15.3002 6.39996Z"
                                                                    fill="#343436" />
                                                            </g>
                                                            <defs>
                                                                <clipPath id="clip0_1219_13710">
                                                                    <rect width="16" height="16" fill="white"
                                                                        transform="translate(0.000244141)" />
                                                                </clipPath>
                                                            </defs>
                                                        </svg>
                                                    </label>
                                                    <span class="chat-icon">
                                                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <path fill-rule="evenodd" clip-rule="evenodd"
                                                                d="M2.66692 5.33333C2.66692 2.38781 5.05473 0 8.00025 0C10.9458 0 13.3336 2.38781 13.3336 5.33333V8C13.3336 10.9455 10.9458 13.3333 8.00025 13.3333C5.05473 13.3333 2.66692 10.9455 2.66692 8V5.33333ZM8.00025 1.33333C5.79111 1.33333 4.00025 3.12419 4.00025 5.33333V8C4.00025 10.2091 5.79111 12 8.00025 12C10.2094 12 12.0002 10.2091 12.0002 8V5.33333C12.0002 3.12419 10.2094 1.33333 8.00025 1.33333Z"
                                                                fill="#1E1E1E" />
                                                            <path fill-rule="evenodd" clip-rule="evenodd"
                                                                d="M0.666911 6.93335C1.0351 6.93335 1.33358 7.23183 1.33358 7.60002V8.66668C1.33358 11.9804 4.01987 14.6667 7.33358 14.6667H8.66691C11.9806 14.6667 14.6669 11.9804 14.6669 8.66668V7.60002C14.6669 7.23183 14.9654 6.93335 15.3336 6.93335C15.7018 6.93335 16.0002 7.23183 16.0002 7.60002V8.66668C16.0002 12.7168 12.717 16 8.66691 16H7.33358C3.28349 16 0.000244141 12.7168 0.000244141 8.66668V7.60002C0.000244141 7.23183 0.298721 6.93335 0.666911 6.93335Z"
                                                                fill="#1E1E1E" />
                                                        </svg>
                                                    </span>
                                                    <span class="chat-icon">
                                                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <g clip-path="url(#clip0_1219_13718)">
                                                                <path
                                                                    d="M9.61135 3.20003H15.7225C15.7961 3.20003 15.8668 3.12979 15.9189 3.00477C15.971 2.87975 16.0002 2.71018 16.0002 2.53337C16.0002 2.35655 15.971 2.18699 15.9189 2.06196C15.8668 1.93694 15.7961 1.8667 15.7225 1.8667H9.61135C9.53768 1.8667 9.46703 1.93694 9.41493 2.06196C9.36284 2.18699 9.33357 2.35655 9.33357 2.53337C9.33357 2.71018 9.36284 2.87975 9.41493 3.00477C9.46703 3.12979 9.53768 3.20003 9.61135 3.20003Z"
                                                                    fill="#343436" />
                                                                <path
                                                                    d="M15.5836 5.33325H9.75024C9.63973 5.33325 9.53375 5.40349 9.45561 5.52851C9.37747 5.65354 9.33357 5.82311 9.33357 5.99992C9.33357 6.17673 9.37747 6.3463 9.45561 6.47132C9.53375 6.59635 9.63973 6.66659 9.75024 6.66659H15.5836C15.6941 6.66659 15.8001 6.59635 15.8782 6.47132C15.9563 6.3463 16.0002 6.17673 16.0002 5.99992C16.0002 5.82311 15.9563 5.65354 15.8782 5.52851C15.8001 5.40349 15.6941 5.33325 15.5836 5.33325Z"
                                                                    fill="#343436" />
                                                                <path
                                                                    d="M15.3336 12.5332H0.666911C0.4901 12.5332 0.320531 12.621 0.195506 12.7773C0.0704821 12.9336 0.000244141 13.1455 0.000244141 13.3665C0.000244141 13.5876 0.0704821 13.7995 0.195506 13.9558C0.320531 14.1121 0.4901 14.1999 0.666911 14.1999H15.3336C15.5104 14.1999 15.68 14.1121 15.805 13.9558C15.93 13.7995 16.0002 13.5876 16.0002 13.3665C16.0002 13.1455 15.93 12.9336 15.805 12.7773C15.68 12.621 15.5104 12.5332 15.3336 12.5332Z"
                                                                    fill="#343436" />
                                                                <path
                                                                    d="M15.5836 8.6665H9.75024C9.63973 8.6665 9.53375 8.73674 9.45561 8.86177C9.37747 8.98679 9.33357 9.15636 9.33357 9.33317C9.33357 9.50998 9.37747 9.67955 9.45561 9.80457C9.53375 9.9296 9.63973 9.99984 9.75024 9.99984H15.5836C15.6941 9.99984 15.8001 9.9296 15.8782 9.80457C15.9563 9.67955 16.0002 9.50998 16.0002 9.33317C16.0002 9.15636 15.9563 8.98679 15.8782 8.86177C15.8001 8.73674 15.6941 8.6665 15.5836 8.6665Z"
                                                                    fill="#343436" />
                                                                <path
                                                                    d="M4.93111 1.67324C4.86961 1.56961 4.78233 1.48379 4.67781 1.42419C4.5733 1.36459 4.45513 1.33325 4.33491 1.33325C4.21469 1.33325 4.09653 1.36459 3.99201 1.42419C3.8875 1.48379 3.80021 1.56961 3.73871 1.67324L0.0728837 9.0278C0.03295 9.10642 0.0089261 9.1922 0.00219714 9.28018C-0.00453182 9.36816 0.00616725 9.45661 0.0336775 9.54042C0.0611878 9.62424 0.104965 9.70176 0.162485 9.76852C0.220005 9.83528 0.29013 9.88996 0.368818 9.9294C0.447505 9.96885 0.533197 9.99228 0.620954 9.99834C0.708712 10.0044 0.796797 9.99298 0.880133 9.96473C0.963469 9.93648 1.04041 9.89197 1.10651 9.83375C1.17261 9.77553 1.22657 9.70476 1.26528 9.62552L2.41102 7.32087H6.25281L7.40188 9.62552C7.44059 9.70476 7.49454 9.77553 7.56065 9.83375C7.62675 9.89197 7.70369 9.93648 7.78702 9.96473C7.87036 9.99298 7.95844 10.0044 8.0462 9.99834C8.13396 9.99228 8.21965 9.96885 8.29834 9.9294C8.37703 9.88996 8.44715 9.83528 8.50467 9.76852C8.56219 9.70176 8.60597 9.62424 8.63348 9.54042C8.66099 9.45661 8.67169 9.36816 8.66496 9.28018C8.65823 9.1922 8.63421 9.10642 8.59427 9.0278L4.93111 1.67324ZM3.07753 5.98368L4.33125 3.46708L5.58629 5.98368H3.07753Z"
                                                                    fill="#343436" />
                                                            </g>
                                                            <defs>
                                                                <clipPath id="clip0_1219_13718">
                                                                    <rect width="16" height="16" fill="white"
                                                                        transform="translate(0.000244141)" />
                                                                </clipPath>
                                                            </defs>
                                                        </svg>
                                                    </span>
                                                    <input type="file" name="file[]" id="attachment"
                                                        (change)="onUpload($event)"
                                                        style="visibility: hidden; position: absolute;" multiple />
                                                    <div>
                                                        <div *ngFor="let item of uploadedFiles">{{item.name}}</div>
                                                    </div>
                                                </div>
                                                <div class="btn-right d-flex align-items-center">
                                                    <button class="btn btn-primary btn-lg me-3"
                                                        (click)="savePrivateNote()" [disabled]="!note || sending">
                                                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <path
                                                                d="M13.5095 6.18122L3.53468 1.48861C2.97124 1.21466 2.30721 1.30913 1.84101 1.7281C1.37369 2.14874 1.21144 2.80221 1.42704 3.39233C1.43648 3.41622 3.87809 8.00215 3.87809 8.00215C3.87809 8.00215 1.48149 12.587 1.47316 12.6103C1.25811 13.201 1.42203 13.8533 1.88935 14.2734C2.17885 14.5329 2.54448 14.6668 2.91234 14.6668C3.1396 14.6668 3.36743 14.6157 3.57969 14.5118L13.5106 9.82307C14.2246 9.488 14.668 8.79009 14.6675 8.00159C14.6675 7.21254 14.2224 6.51463 13.5095 6.18122ZM2.46058 2.98058C2.39279 2.74997 2.53726 2.59716 2.58449 2.55382C2.63395 2.50993 2.81454 2.37379 3.05014 2.48937C3.05292 2.49048 13.0377 7.18754 13.0377 7.18754C13.1705 7.24977 13.2811 7.33757 13.3661 7.44426H4.8405L2.46058 2.98058ZM13.0372 8.81731L3.09737 13.5105C2.86121 13.6266 2.68118 13.491 2.63172 13.446C2.58394 13.4038 2.43946 13.2499 2.50781 13.0187L4.84273 8.55559H13.3695C13.2844 8.66395 13.1716 8.75397 13.0372 8.81731Z"
                                                                fill="currentColor" />
                                                        </svg>
                                                    </button>

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </p-tabPanel>
                            </p-tabView>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
    <div class="content-right" *ngIf="viewMail">
        <div class="container">
            <div class="row">
                <div class="col-md-12 contact-info">
                    <div class="name-customer">
                        <svg width="12" height="16" viewBox="0 0 12 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M6.00024 8C8.20938 8 10.0002 6.20914 10.0002 4C10.0002 1.79086 8.20938 0 6.00024 0C3.79111 0 2.00024 1.79086 2.00024 4C2.00024 6.20914 3.79111 8 6.00024 8Z"
                                fill="#3A69DB" />
                            <path
                                d="M6.00024 9.33273C2.68806 9.33642 0.00393164 12.0205 0.000244141 15.3327C0.000244141 15.7009 0.298713 15.9994 0.6669 15.9994H11.3336C11.7017 15.9994 12.0002 15.7009 12.0002 15.3327C11.9966 12.0205 9.31243 9.33639 6.00024 9.33273Z"
                                fill="#3A69DB" />
                        </svg>
                        <span class="name ms-2">{{mailDetails.fromName}}</span>
                    </div>
                    <div class="cursor-pointer" routerLinkActive="active" [routerLinkActiveOptions]="{exact: false}"
                        [routerLink]="['/main/contacts/detail',mailDetails.idContact]" target="_blank"
                        aria-expanded="false">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M11.9999 7.21331C11.8231 7.21331 11.6535 7.28355 11.5285 7.40857C11.4035 7.5336 11.3333 7.70317 11.3333 7.87998V12.6666C11.3333 12.8435 11.263 13.013 11.138 13.1381C11.013 13.2631 10.8434 13.3333 10.6666 13.3333H3.33325C3.15644 13.3333 2.98687 13.2631 2.86185 13.1381C2.73682 13.013 2.66659 12.8435 2.66659 12.6666V5.33331C2.66659 5.1565 2.73682 4.98693 2.86185 4.86191C2.98687 4.73688 3.15644 4.66665 3.33325 4.66665H8.11992C8.29673 4.66665 8.4663 4.59641 8.59132 4.47138C8.71635 4.34636 8.78658 4.17679 8.78658 3.99998C8.78658 3.82317 8.71635 3.6536 8.59132 3.52858C8.4663 3.40355 8.29673 3.33331 8.11992 3.33331H3.33325C2.80282 3.33331 2.29411 3.54403 1.91904 3.9191C1.54397 4.29417 1.33325 4.80288 1.33325 5.33331V12.6666C1.33325 13.1971 1.54397 13.7058 1.91904 14.0809C2.29411 14.4559 2.80282 14.6666 3.33325 14.6666H10.6666C11.197 14.6666 11.7057 14.4559 12.0808 14.0809C12.4559 13.7058 12.6666 13.1971 12.6666 12.6666V7.87998C12.6666 7.70317 12.5963 7.5336 12.4713 7.40857C12.3463 7.28355 12.1767 7.21331 11.9999 7.21331ZM14.6133 1.74665C14.5456 1.58375 14.4162 1.4543 14.2533 1.38665C14.1731 1.35249 14.087 1.33437 13.9999 1.33331H9.99992C9.82311 1.33331 9.65354 1.40355 9.52851 1.52858C9.40349 1.6536 9.33325 1.82317 9.33325 1.99998C9.33325 2.17679 9.40349 2.34636 9.52851 2.47138C9.65354 2.59641 9.82311 2.66665 9.99992 2.66665H12.3933L5.52659 9.52665C5.4641 9.58862 5.4145 9.66236 5.38066 9.74359C5.34681 9.82483 5.32939 9.91197 5.32939 9.99998C5.32939 10.088 5.34681 10.1751 5.38066 10.2564C5.4145 10.3376 5.4641 10.4113 5.52659 10.4733C5.58856 10.5358 5.66229 10.5854 5.74353 10.6192C5.82477 10.6531 5.91191 10.6705 5.99992 10.6705C6.08793 10.6705 6.17506 10.6531 6.2563 10.6192C6.33754 10.5854 6.41128 10.5358 6.47325 10.4733L13.3333 3.60665V5.99998C13.3333 6.17679 13.4035 6.34636 13.5285 6.47138C13.6535 6.59641 13.8231 6.66665 13.9999 6.66665C14.1767 6.66665 14.3463 6.59641 14.4713 6.47138C14.5963 6.34636 14.6666 6.17679 14.6666 5.99998V1.99998C14.6655 1.91286 14.6474 1.82679 14.6133 1.74665Z"
                                fill="#7C7C7E" />
                        </svg>
                    </div>
                </div>
                <div class="col-md-12">
                    <div class="info-label">
                        Chanel
                    </div>
                    <strong>{{mailDetails.channelName}}</strong>
                </div>
                <div class="col-md-12">
                    <div class="info-label">
                        Assignment agent
                    </div>
                    <div *ngIf="!selectedAssign || selectedAssign.length === 0"><strong>N/A</strong></div>
                    <div class="d-flex align-items-center">
                        <div *ngFor="let item of listAssign">
                            <div *ngIf="item.check" class="item-img-assign">
                                <img src="../../../../assets/img/avatar1.png" alt="" title="{{item.fullname}}"
                                    style="width: 24px; height: 24px; border-radius: 50%;">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-12">
                    <div class="info-label">
                        Follower
                    </div>
                    <div *ngIf="!selectedFollow || selectedFollow.length === 0"><strong>N/A</strong></div>
                    <div class="d-flex align-items-center">
                        <div *ngFor="let item of listFollow">
                            <div *ngIf="item.check" class="item-img-assign">
                                <img src="../../../../assets/img/avatar2.png" alt="" title="{{item.fullname}}"
                                    style="width: 24px; height: 24px; border-radius: 50%;">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-12">
                    <div class="info-label">
                        Label
                    </div>
                    <div *ngIf="!selectedLabel || selectedLabel.length === 0"><strong>N/A</strong></div>
                    <div>
                        <span *ngFor="let item of listLabelEmail" class="item-label">
                            <span *ngIf="item.check">
                                #{{item.name}}
                            </span>
                        </span>
                    </div>

                    <hr style="margin: 6px 0 2px; color: #E6E6E8;">

                    <div class="col-md-12">
                        <div class="accordion" id="accordionPanelsStayOpenExample">
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="panelsStayOpen-headingOne">
                                    <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                        data-bs-target="#panelsStayOpen-collapseOne" aria-expanded="true"
                                        aria-controls="panelsStayOpen-collapseOne">

                                        <span class="d-flex align-items-center justify-content-between w-100">
                                            Information
                                            <svg class="icon-accordion" width="16" height="16" viewBox="0 0 16 16"
                                                class="icon-accordion" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path
                                                    d="M3.45463 10.6667H12.2975C12.4539 10.666 12.6066 10.619 12.7363 10.5316C12.866 10.4441 12.9669 10.3202 13.0262 10.1754C13.0854 10.0306 13.1004 9.87153 13.0693 9.71823C13.0381 9.56493 12.9622 9.42432 12.8512 9.31416L8.43763 4.90065C8.36411 4.82651 8.27662 4.76767 8.18024 4.72752C8.08386 4.68736 7.98047 4.66669 7.87606 4.66669C7.77164 4.66669 7.66826 4.68736 7.57188 4.72752C7.47549 4.76767 7.38801 4.82651 7.31448 4.90065L2.90096 9.31416C2.7899 9.42432 2.71399 9.56493 2.68283 9.71823C2.65168 9.87153 2.66669 10.0306 2.72595 10.1754C2.78521 10.3202 2.88607 10.4441 3.01578 10.5316C3.14548 10.619 3.2982 10.666 3.45463 10.6667Z"
                                                    fill="rgba(0, 0, 0, 0.87)" />
                                            </svg>
                                        </span>
                                    </button>
                                </h2>
                                <div id="panelsStayOpen-collapseOne" class="accordion-collapse collapse show"
                                    aria-labelledby="panelsStayOpen-headingOne">
                                    <div class="accordion-body">
                                        <div class="info-label">
                                            Created at
                                        </div>
                                        <strong>{{mailDetails.date | date:'short'}}</strong>
                                    </div>
                                </div>
                            </div>

                            <hr style="margin: 0px 0 2px; color: #E6E6E8;">

                            <div class="accordion-item">
                                <h2 class="accordion-header" id="panelsStayOpen-headingTwo">
                                    <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                        data-bs-target="#panelsStayOpen-collapseTwo" aria-expanded="true"
                                        aria-controls="panelsStayOpen-collapseTwo">
                                        <span class="d-flex align-items-center justify-content-between w-100">
                                            Activities
                                            <svg class="icon-accordion" width="16" height="16" viewBox="0 0 16 16"
                                                class="icon-accordion" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path
                                                    d="M3.45463 10.6667H12.2975C12.4539 10.666 12.6066 10.619 12.7363 10.5316C12.866 10.4441 12.9669 10.3202 13.0262 10.1754C13.0854 10.0306 13.1004 9.87153 13.0693 9.71823C13.0381 9.56493 12.9622 9.42432 12.8512 9.31416L8.43763 4.90065C8.36411 4.82651 8.27662 4.76767 8.18024 4.72752C8.08386 4.68736 7.98047 4.66669 7.87606 4.66669C7.77164 4.66669 7.66826 4.68736 7.57188 4.72752C7.47549 4.76767 7.38801 4.82651 7.31448 4.90065L2.90096 9.31416C2.7899 9.42432 2.71399 9.56493 2.68283 9.71823C2.65168 9.87153 2.66669 10.0306 2.72595 10.1754C2.78521 10.3202 2.88607 10.4441 3.01578 10.5316C3.14548 10.619 3.2982 10.666 3.45463 10.6667Z"
                                                    fill="rgba(0, 0, 0, 0.87)" />
                                            </svg>
                                        </span>
                                    </button>
                                </h2>
                                <div id="panelsStayOpen-collapseTwo" class="accordion-collapse"
                                    aria-labelledby="panelsStayOpen-headingTwo">
                                    <div class="accordion-body his">
                                        <div *ngFor="let item of listHistory" class="item-his">
                                            <div class="d-flex justify-content-between align-items-center">
                                                <strong>{{item.fullName}}</strong>
                                                <div class="text-time">{{item.time | date:'short'}}</div>
                                            </div>
                                            <div class="info-label text-truncate-1" title="{{item.content}}">
                                                {{item.content}}</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<p-dialog [(visible)]="displayDelete" id="confirmation-delete" [modal]="true" class="box-dialog"
    [style]="{width: '343px'}">
    <ng-template pTemplate="header">
        <div>
            <p class="p-dialog-title text-center">
                Delete Confirmation
            </p>
            <p class="p-dialog-secondary ">

            </p>
        </div>
    </ng-template>

    <div class="content-delete text-center">
        Are you sure you want to delete this conversation?
    </div>

    <div class="modal-footer justify-content-center">
        <div class="btn-groupt btn-dialog">
            <button class="btn btn-outline-secondary btn-cancel" (click)="displayDelete = false">
                Cancel
            </button>
            <button type="button" class="btn btn-primary" (click)="delete()">
                <span>Delete</span>
            </button>
        </div>
    </div>
</p-dialog>