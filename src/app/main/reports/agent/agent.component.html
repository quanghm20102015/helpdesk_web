<div class="container-fluid conversation">
  <div class="row">
    <div class="col-6">
        <h5 class="fs-18 fw-bold pt-2">
          <svg xmlns="http://www.w3.org/2000/svg" id="Outline" viewBox="0 0 24 24" width="16" height="16"><path d="M12,12A6,6,0,1,0,6,6,6.006,6.006,0,0,0,12,12ZM12,2A4,4,0,1,1,8,6,4,4,0,0,1,12,2Z"/><path d="M12,14a9.01,9.01,0,0,0-9,9,1,1,0,0,0,2,0,7,7,0,0,1,14,0,1,1,0,0,0,2,0A9.01,9.01,0,0,0,12,14Z"/></svg>
          Agent
        </h5>
    </div>
    <div class="col-6">
      <button type="button" class="float-end btn btn-outline-primary fs-13 border-0">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-download" viewBox="0 0 16 16">
          <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/>
          <path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"/>
        </svg>
        Download report
      </button>
    </div>
  </div>
  <div class="pt-2 row">
    <div class="col-3">
      <div class="card mb-0">
        <div class="flex align-items-center justify-content-center justify-content-between">
          <div class="flex align-items-center justify-content-center">
              <span class="rounded-card bg-gray-500 rounded-5"></span>
              <span class="block font-medium">&nbsp; Total agent</span>
          </div>
          <div class="flex align-items-center justify-content-center">
              <div class="font-medium text-dark card-number">120 &nbsp;</div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-3">
      <div class="card mb-0">
        <div class="flex align-items-center justify-content-center justify-content-between">
          <div class="flex align-items-center justify-content-center">
            <span class="rounded-card bg-green-500 rounded-5"></span>
            <span class="block text-green-500 font-medium">&nbsp; Online</span>
          </div>
          <div class="flex align-items-center justify-content-center">
            <div class="font-medium text-primary-500 card-number">120 &nbsp;</div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-3">
      <div class="card mb-0">
        <div class="flex align-items-center justify-content-center justify-content-between">
          <div class="flex align-items-center justify-content-center">
              <span class="rounded-card bg-yellow-500 rounded-5"></span>
              <span class="block text-yellow-500 font-medium">&nbsp; Busy</span>
          </div>
          <div class="flex align-items-center justify-content-center">
              <div class="font-medium text-primary-500 card-number">120 &nbsp;</div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-3">
      <div class="card mb-0">
        <div class="flex align-items-center justify-content-center justify-content-between">
          <div class="flex align-items-center justify-content-center">
              <span class="rounded-card bg-black-500 rounded-5"></span>
              <span class="block text-black-500 font-medium">&nbsp; Offline</span>
          </div>
          <div class="flex align-items-center justify-content-center">
              <div class="font-medium text-primary-500 card-number">120 &nbsp;</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="row pt-3">
    <div class="col-4">
      <div class="card mb-0">
        <div class="row">
          <div class="col-8">
            <h6 class="fs-14 fw-bold pt-2">Top conversation by agents</h6>
          </div>
          <div class="col-4">
            <button type="submit" class="btn btn-outline-secondary border-0 float-end" (click)="opSearch.toggle($event)">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                  xmlns="http://www.w3.org/2000/svg">
                  <g clip-path="url(#clip0_850_24995)">
                      <path d="M15.8048 14.8623L11.8254 10.883C12.9098 9.55674 13.443 7.8644 13.3147 6.15605C13.1863 4.4477 12.4062 2.85403 11.1358 1.70469C9.8654 0.55535 8.20183 -0.0617289 6.48919 -0.0189077C4.77656 0.0239135 3.1459 0.723359 1.93451 1.93475C0.723114 3.14614 0.0236694 4.7768 -0.0191518 6.48944C-0.0619731 8.20207 0.555106 9.86565 1.70445 11.1361C2.85379 12.4065 4.44745 13.1865 6.15581 13.3149C7.86416 13.4433 9.5565 12.9101 10.8828 11.8257L14.8621 15.805C14.9878 15.9264 15.1562 15.9936 15.331 15.9921C15.5058 15.9906 15.673 15.9205 15.7966 15.7969C15.9203 15.6733 15.9904 15.5061 15.9919 15.3313C15.9934 15.1565 15.9262 14.9881 15.8048 14.8623ZM6.66677 12.0003C5.61193 12.0003 4.58079 11.6875 3.70372 11.1015C2.82666 10.5155 2.14308 9.68253 1.73941 8.70799C1.33574 7.73345 1.23012 6.66109 1.43591 5.62653C1.6417 4.59196 2.14965 3.64165 2.89553 2.89577C3.64141 2.14989 4.59172 1.64194 5.62628 1.43615C6.66085 1.23037 7.7332 1.33598 8.70774 1.73965C9.68228 2.14332 10.5152 2.82691 11.1013 3.70397C11.6873 4.58103 12.0001 5.61218 12.0001 6.66701C11.9985 8.08101 11.4361 9.43664 10.4362 10.4365C9.4364 11.4363 8.08077 11.9988 6.66677 12.0003Z" fill="#343436" />
                  </g>
                  <defs>
                    <clipPath id="clip0_850_24995">
                        <rect width="16" height="16" fill="white" transform="translate(0.000244141)" />
                    </clipPath>
                  </defs>
              </svg>
            </button>
          </div>
        </div>

        <div class="row pt-2">
          <div class="col-12">
            <p-table [value]="listConversationAgents" [paginator]="true" [rows]="3" responsiveLayout="scroll" [showCurrentPageReport]="true" currentPageReportTemplate="Total {totalRecords} group">
              <ng-template pTemplate="header">
                <tr>
                  <th>Agent</th>
                  <th class="text-center" pSortableColumn="usetime">
                    Open
                    <p-sortIcon field="usetime" sortAscIcon="pi-sort-up" sortDescIcon="pi-sort-down" sortNoneIcon="pi-sort"></p-sortIcon>
                  </th>
                  <th class="text-center" pSortableColumn="conversation">
                    Unattended
                    <p-sortIcon field="conversation"></p-sortIcon>
                  </th>
                </tr>
              </ng-template>
              <ng-template pTemplate="body" let-item>
                <tr>
                  <td>
                    <div class="row">
                      <div class="col-2 table-agent">
                        <img src="../../../../assets/img/avatar1.png" class="shadow-4" width="24" height="24">
                      </div>
                      <div class="col-10">
                        <span class="fs-13 table-agent-name">{{item.agent}}</span>
                        <br>
                        <span class="fs-12 table-agent-mail">{{item.mail}}</span>
                      </div>
                    </div>

                  </td>
                  <td class="text-center">{{item.open}}</td>
                  <td class="text-center">{{item.unattended}}</td>
                </tr>
              </ng-template>
            </p-table>
          </div>
        </div>
      </div>

      <p-overlayPanel #opSearch>
        <ng-template pTemplate>
          <div id="tooltip-search">
              <div class="input-search">
                <div class="action-title">Search</div>
                <input type="text" pInputText [(ngModel)]="textSearch"
                    (keyup)="onKeyupSearch()" placeholder="Search"
                    style="margin-bottom: 8px;">
              </div>
            </div>
        </ng-template>
      </p-overlayPanel>
    </div>
    <div class="col-8">
      <div class="card mb-0">
        <div class="row">
          <div class="col-8">
            <h6 class="fs-14 fw-bold pt-2">Performance Monitoring</h6>
          </div>
          <div class="col-4">
            <p-dropdown id="dropdown-report" class="float-end" [options]="listAgent" [(ngModel)]="selectedAgent" optionLabel="name" optionValue="value"></p-dropdown>
          </div>
        </div>

        <p-tabView class="w-100" (onChange)="onChangePerformance($event)">
          <p-tabPanel>
            <ng-template pTemplate="header">
              <div>
                <span class="tabview-title">Conversations</span>
                <br>
                <span class="tabview-number">16</span>
              </div>
            </ng-template>

            <div class="pt-2">
              <highcharts-chart
                [Highcharts]="Highcharts"
                [constructorType]="'chart'"
                [options]="chartOptionsConversations"
                [(update)]="updateConversationsFlag"
                class="agent-performance"
                style="width: 100%; display: block;">
              </highcharts-chart>
            </div>
          </p-tabPanel>
          <p-tabPanel>
            <ng-template pTemplate="header">
              <div>
                <span class="tabview-title">Incoming Messages</span>
                <br>
                <span class="tabview-number">19</span>
              </div>
            </ng-template>

            <div class="pt-2">
              <highcharts-chart
                [Highcharts]="Highcharts"
                [constructorType]="'chart'"
                [options]="chartOptionsIncomingMessages"
                [(update)]="updateIncomingMessagesFlag"
                style="width: 100%; display: block;">
              </highcharts-chart>
            </div>
          </p-tabPanel>
          <p-tabPanel>
            <ng-template pTemplate="header">
              <div>
                <span class="tabview-title">Outgoing Messages</span>
                <br>
                <span class="tabview-number">19</span>
              </div>
            </ng-template>

            <div class="pt-2">
              <highcharts-chart
                [Highcharts]="Highcharts"
                [constructorType]="'chart'"
                [options]="chartOptionsOutgoingMessages"
                [(update)]="updateOutgoingMessagesFlag"
                style="width: 100%; display: block;">
              </highcharts-chart>
            </div>
          </p-tabPanel>
          <p-tabPanel>
            <ng-template pTemplate="header">
              <div>
                <span class="tabview-title">Resolved Count</span>
                <br>
                <span class="tabview-number">6</span>
              </div>
            </ng-template>

            <div class="pt-2">
              <highcharts-chart
                [Highcharts]="Highcharts"
                [constructorType]="'chart'"
                [options]="chartOptionsResolvedCount"
                [(update)]="updateResolvedCountFlag"
                style="width: 100%; display: block;">
              </highcharts-chart>
            </div>
          </p-tabPanel>
          <p-tabPanel>
            <ng-template pTemplate="header">
              <div>
                <span class="tabview-title">First Response Time</span>
                <br>
                <span class="tabview-number">22m 33s</span>
              </div>
            </ng-template>

            <div class="pt-2">
              <highcharts-chart
                [Highcharts]="Highcharts"
                [constructorType]="'chart'"
                [options]="chartOptionsFirstResponseTime"
                [(update)]="updateFirstResponseTimeFlag"
                style="width: 100%; display: block;">
              </highcharts-chart>
            </div>
          </p-tabPanel>
          <p-tabPanel>
            <ng-template pTemplate="header">
              <div>
                <span class="tabview-title">Resolved Time</span>
                <br>
                <span class="tabview-number">11 Day 12 Hr</span>
              </div>
            </ng-template>

            <div class="pt-2">
              <highcharts-chart
                [Highcharts]="Highcharts"
                [constructorType]="'chart'"
                [options]="chartOptionsResolvedTime"
                [(update)]="updateResolvedTimeFlag"
                style="width: 100%; display: block;">
              </highcharts-chart>
            </div>
          </p-tabPanel>
        </p-tabView>
      </div>
    </div>
  </div>
</div>

<div class="conversation-header container-fluid">
  <div class="row">
    <div class="col-6">
        <h5 class="fs-18 fw-bold pt-2">
          <i class="pi pi-users"></i>
          Group
        </h5>
    </div>
    <div class="col-6">
      <div class=" float-end">
        <button type="button" class="btn btn-outline-secondary fs-13 border-0" (click)="opFilter.toggle($event)">
          <svg id="Layer_1" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg" data-name="Layer 1"><path d="m14 24a1 1 0 0 1 -.6-.2l-4-3a1 1 0 0 1 -.4-.8v-5.62l-7.016-7.893a3.9 3.9 0 0 1 2.916-6.487h14.2a3.9 3.9 0 0 1 2.913 6.488l-7.013 7.892v8.62a1 1 0 0 1 -1 1zm-3-4.5 2 1.5v-7a1 1 0 0 1 .253-.664l7.268-8.177a1.9 1.9 0 0 0 -1.421-3.159h-14.2a1.9 1.9 0 0 0 -1.421 3.158l7.269 8.178a1 1 0 0 1 .252.664z"/></svg>
          Filter
        </button>
        <button type="button" class="btn btn-outline-primary fs-13 border-0">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-download" viewBox="0 0 16 16">
            <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/>
            <path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"/>
          </svg>
          Download report
        </button>
      </div>
    </div>
  </div>

  <p-overlayPanel #opFilter>
    <ng-template pTemplate>
        <div id="tooltip-search">
          <p-multiSelect [options]="listFilter" [(ngModel)]="selectedFilter"
            defaultLabel="Search for label" optionLabel="name"
            display="chip" class="multiselect-custom me-2" (onChange)="onChangeSelectFilter()">
          </p-multiSelect>
        </div>
    </ng-template>
</p-overlayPanel>

  <div class="row pt-2">
    <div class="col-4">
      <div class="card mb-0">
        <div class="row">
          <div class="col-8">
            <h6 class="fs-14 fw-bold pt-2">Top conversation by groups</h6>
          </div>
          <div class="col-4">
            <button type="submit" class="btn btn-outline-secondary border-0 float-end" (click)="opSearch.toggle($event)">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                  xmlns="http://www.w3.org/2000/svg">
                  <g clip-path="url(#clip0_850_24995)">
                      <path d="M15.8048 14.8623L11.8254 10.883C12.9098 9.55674 13.443 7.8644 13.3147 6.15605C13.1863 4.4477 12.4062 2.85403 11.1358 1.70469C9.8654 0.55535 8.20183 -0.0617289 6.48919 -0.0189077C4.77656 0.0239135 3.1459 0.723359 1.93451 1.93475C0.723114 3.14614 0.0236694 4.7768 -0.0191518 6.48944C-0.0619731 8.20207 0.555106 9.86565 1.70445 11.1361C2.85379 12.4065 4.44745 13.1865 6.15581 13.3149C7.86416 13.4433 9.5565 12.9101 10.8828 11.8257L14.8621 15.805C14.9878 15.9264 15.1562 15.9936 15.331 15.9921C15.5058 15.9906 15.673 15.9205 15.7966 15.7969C15.9203 15.6733 15.9904 15.5061 15.9919 15.3313C15.9934 15.1565 15.9262 14.9881 15.8048 14.8623ZM6.66677 12.0003C5.61193 12.0003 4.58079 11.6875 3.70372 11.1015C2.82666 10.5155 2.14308 9.68253 1.73941 8.70799C1.33574 7.73345 1.23012 6.66109 1.43591 5.62653C1.6417 4.59196 2.14965 3.64165 2.89553 2.89577C3.64141 2.14989 4.59172 1.64194 5.62628 1.43615C6.66085 1.23037 7.7332 1.33598 8.70774 1.73965C9.68228 2.14332 10.5152 2.82691 11.1013 3.70397C11.6873 4.58103 12.0001 5.61218 12.0001 6.66701C11.9985 8.08101 11.4361 9.43664 10.4362 10.4365C9.4364 11.4363 8.08077 11.9988 6.66677 12.0003Z" fill="#343436" />
                  </g>
                  <defs>
                    <clipPath id="clip0_850_24995">
                        <rect width="16" height="16" fill="white" transform="translate(0.000244141)" />
                    </clipPath>
                  </defs>
              </svg>
            </button>
          </div>
        </div>

        <div class="row pt-2">
          <div class="col-12">
            <p-table [value]="listConversationGroups" [paginator]="true" [rows]="4" responsiveLayout="scroll" [showCurrentPageReport]="true" currentPageReportTemplate="Total {totalRecords} group">
              <ng-template pTemplate="header">
                <tr>
                  <th>Group</th>
                  <th class="text-center" pSortableColumn="usetime">
                    Member
                    <p-sortIcon field="usetime" sortAscIcon="pi-sort-up" sortDescIcon="pi-sort-down" sortNoneIcon="pi-sort"></p-sortIcon>
                  </th>
                  <th class="text-center" pSortableColumn="conversation">
                    Conversation
                    <p-sortIcon field="conversation"></p-sortIcon>
                  </th>
                </tr>
              </ng-template>
              <ng-template pTemplate="body" let-item>
                <tr>
                  <td>{{item.groupName}}</td>
                  <td class="text-center">{{item.member}}</td>
                  <td class="text-center">{{item.conversation}}</td>
                </tr>
              </ng-template>
            </p-table>
          </div>
        </div>
      </div>

      <p-overlayPanel #opSearch>
        <ng-template pTemplate>
          <div id="tooltip-search">
              <div class="input-search">
                <div class="action-title">Search</div>
                <input type="text" pInputText [(ngModel)]="textSearch"
                    (keyup)="onKeyupSearch()" placeholder="Search"
                    style="margin-bottom: 8px;">
              </div>
            </div>
        </ng-template>
      </p-overlayPanel>
    </div>

    <div class="col-8">
      <div class="card mb-0">
        <div class="row">
          <div class="col-8">
            <h6 class="fs-14 fw-bold pt-2">Performance Monitoring</h6>
          </div>
          <div class="col-4">
            <p-dropdown id="dropdown-report" class="float-end" [options]="listAgent" [(ngModel)]="selectedAgent" optionLabel="name" optionValue="value"></p-dropdown>
          </div>
        </div>

        <p-tabView class="w-100" (onChange)="onChangePerformance($event)">
          <p-tabPanel>
            <ng-template pTemplate="header">
              <div>
                <span class="tabview-title">Conversations</span>
                <br>
                <span class="tabview-number">16</span>
              </div>
            </ng-template>

            <div class="pt-2">
              <highcharts-chart
                [Highcharts]="Highcharts"
                [constructorType]="'chart'"
                [options]="chartOptionsConversations"
                [(update)]="updateConversationsFlag"
                class="group-performance"
                style="width: 100%; display: block;">
              </highcharts-chart>
            </div>
          </p-tabPanel>
          <p-tabPanel>
            <ng-template pTemplate="header">
              <div>
                <span class="tabview-title">Incoming Messages</span>
                <br>
                <span class="tabview-number">19</span>
              </div>
            </ng-template>

            <div class="pt-2">
              <highcharts-chart
                [Highcharts]="Highcharts"
                [constructorType]="'chart'"
                [options]="chartOptionsIncomingMessages"
                [(update)]="updateIncomingMessagesFlag"
                style="width: 100%; display: block;">
              </highcharts-chart>
            </div>
          </p-tabPanel>
          <p-tabPanel>
            <ng-template pTemplate="header">
              <div>
                <span class="tabview-title">Outgoing Messages</span>
                <br>
                <span class="tabview-number">19</span>
              </div>
            </ng-template>

            <div class="pt-2">
              <highcharts-chart
                [Highcharts]="Highcharts"
                [constructorType]="'chart'"
                [options]="chartOptionsOutgoingMessages"
                [(update)]="updateOutgoingMessagesFlag"
                style="width: 100%; display: block;">
              </highcharts-chart>
            </div>
          </p-tabPanel>
          <p-tabPanel>
            <ng-template pTemplate="header">
              <div>
                <span class="tabview-title">Resolved Count</span>
                <br>
                <span class="tabview-number">6</span>
              </div>
            </ng-template>

            <div class="pt-2">
              <highcharts-chart
                [Highcharts]="Highcharts"
                [constructorType]="'chart'"
                [options]="chartOptionsResolvedCount"
                [(update)]="updateResolvedCountFlag"
                style="width: 100%; display: block;">
              </highcharts-chart>
            </div>
          </p-tabPanel>
          <p-tabPanel>
            <ng-template pTemplate="header">
              <div>
                <span class="tabview-title">First Response Time</span>
                <br>
                <span class="tabview-number">22m 33s</span>
              </div>
            </ng-template>

            <div class="pt-2">
              <highcharts-chart
                [Highcharts]="Highcharts"
                [constructorType]="'chart'"
                [options]="chartOptionsFirstResponseTime"
                [(update)]="updateFirstResponseTimeFlag"
                style="width: 100%; display: block;">
              </highcharts-chart>
            </div>
          </p-tabPanel>
          <p-tabPanel>
            <ng-template pTemplate="header">
              <div>
                <span class="tabview-title">Resolved Time</span>
                <br>
                <span class="tabview-number">11 Day 12 Hr</span>
              </div>
            </ng-template>

            <div class="pt-2">
              <highcharts-chart
                [Highcharts]="Highcharts"
                [constructorType]="'chart'"
                [options]="chartOptionsResolvedTime"
                [(update)]="updateResolvedTimeFlag"
                style="width: 100%; display: block;">
              </highcharts-chart>
            </div>
          </p-tabPanel>
        </p-tabView>
      </div>
    </div>
  </div>
</div>
