<div class="p-3 pt-2 bg-white" style="overflow: hidden; min-height: 100vh;">
    <div class="row">
        <div class="col-md-12" style="padding-left: 30px; border-bottom: 1px solid #f1f5f8;">
            <div class="d-flex align-items-center">
                <div class="btn text-primary fs-3 btn-back-contacts" routerLinkActive="ac"
                    [routerLinkActiveOptions]="{exact: false}" routerLink="/main/contacts/" aria-expanded="false">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M11.9473 1.00338C11.9471 1.26851 11.8416 1.52269 11.654 1.71005L6.5393 6.82472C6.38449 6.97949 6.26168 7.16324 6.1779 7.36548C6.09411 7.56771 6.05099 7.78448 6.05099 8.00338C6.05099 8.22229 6.09411 8.43905 6.1779 8.64129C6.26168 8.84353 6.38449 9.02728 6.5393 9.18205L11.6473 14.29C11.8295 14.4787 11.9303 14.7313 11.928 14.9935C11.9257 15.2556 11.8205 15.5065 11.6351 15.6919C11.4497 15.8773 11.1989 15.9824 10.9367 15.9847C10.6745 15.987 10.4219 15.8862 10.2333 15.7041L5.1253 10.6C4.43847 9.91188 4.05273 8.97932 4.05273 8.00705C4.05273 7.03478 4.43847 6.10223 5.1253 5.41405L10.24 0.29605C10.3798 0.156106 10.558 0.0607924 10.7521 0.0221697C10.9461 -0.0164531 11.1473 0.00335101 11.33 0.079076C11.5128 0.154801 11.669 0.283043 11.7789 0.447576C11.8888 0.612108 11.9474 0.805536 11.9473 1.00338Z"
                            fill="black" fill-opacity="0.87" />
                    </svg>
                    Contacts
                </div>
                <h3 class="m-0">{{model.fullname}}</h3>
            </div>
        </div>
        <div class="row">
            <div class="col-md-9 box-detail-contact">
                <div class="contact--profile">
                    <div class="row contact--info">
                        <div class="col-md-12 d-flex justify-content-between align-items-center">
                            <div class="contact-info--header">
                                General Information
                            </div>
                            <div class="group-btn d-flex">
                                <div class="btn btn-edit" (click)="createContact()">
                                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <g clip-path="url(#clip0_1769_1380)">
                                            <path
                                                d="M12.4374 0.62013L4.30945 8.74813C3.99901 9.05689 3.7529 9.42417 3.58537 9.82869C3.41784 10.2332 3.33221 10.667 3.33345 11.1048V12.0001C3.33345 12.1769 3.40369 12.3465 3.52871 12.4715C3.65373 12.5966 3.8233 12.6668 4.00011 12.6668H4.89545C5.33329 12.668 5.76703 12.5824 6.17155 12.4149C6.57608 12.2473 6.94335 12.0012 7.25212 11.6908L15.3801 3.5628C15.7697 3.17224 15.9885 2.64311 15.9885 2.09146C15.9885 1.53981 15.7697 1.01068 15.3801 0.62013C14.9839 0.241392 14.4569 0.0300293 13.9088 0.0300293C13.3607 0.0300293 12.8337 0.241392 12.4374 0.62013ZM14.4374 2.62013L6.30945 10.7481C5.93353 11.1218 5.42545 11.3321 4.89545 11.3335H4.66678V11.1048C4.66817 10.5748 4.87849 10.0667 5.25211 9.6908L13.3801 1.5628C13.5225 1.42677 13.7119 1.35086 13.9088 1.35086C14.1057 1.35086 14.2951 1.42677 14.4374 1.5628C14.5774 1.70314 14.656 1.89326 14.656 2.09146C14.656 2.28967 14.5774 2.47979 14.4374 2.62013Z"
                                                fill="#3A69DB" />
                                            <path
                                                d="M14.8619 6.18126C14.987 6.05624 15.1565 5.986 15.3333 5.986C15.5101 5.986 15.6797 6.05624 15.8047 6.18126C15.9298 6.30629 16 6.47586 16 6.65267V10.8953C16.0011 11.3332 15.9153 11.767 15.7477 12.1715C15.58 12.576 15.3338 12.9432 15.0233 13.252L13.2527 15.024C12.9438 15.3345 12.5764 15.5806 12.1718 15.7481C11.7671 15.9156 11.3333 16.0013 10.8953 16H3.33333C2.4496 15.9989 1.60237 15.6474 0.97748 15.0225C0.352588 14.3976 0.00105857 13.5504 0 12.6667V3.33333C0.00105857 2.4496 0.352588 1.60237 0.97748 0.97748C1.60237 0.352588 2.4496 0.00105857 3.33333 0H9.36133C9.53815 0 9.70771 0.0702379 9.83274 0.195262C9.95776 0.320286 10.028 0.489856 10.028 0.666667C10.028 0.843478 9.95776 1.01305 9.83274 1.13807C9.70771 1.2631 9.53815 1.33333 9.36133 1.33333H3.33333C2.8029 1.33333 2.29419 1.54405 1.91912 1.91912C1.54405 2.29419 1.33333 2.8029 1.33333 3.33333V12.6667C1.33333 13.1971 1.54405 13.7058 1.91912 14.0809C2.29419 14.456 2.8029 14.6667 3.33333 14.6667H10L11.3333 14.6147C11.7031 14.5337 12.042 14.3487 12.31 14.0813L14.0833 12.3093C14.3493 12.0406 14.5342 11.7023 14.6167 11.3333L14.6667 10V6.65267C14.6667 6.47586 14.7369 6.30629 14.8619 6.18126Z"
                                                fill="#3A69DB" />
                                        </g>
                                        <defs>
                                            <clipPath id="clip0_1769_1380">
                                                <rect width="16" height="16" fill="white" />
                                            </clipPath>
                                        </defs>
                                    </svg>
                                    Edit
                                </div>
                                <div class="contact-actions">
                                    <button (click)="confirm()" pButton icon="pi pi-trash"
                                        class="p-button-danger"></button>
                                </div>

                            </div>
                        </div>
                        <div class="contact--details">
                            <div class="row contact--metadata">
                                <div class="col-md-3 contact-label">
                                    Name
                                </div>
                                <div class="col-md-9 contact-value">
                                    {{ model.fullname }}
                                </div>
                            </div>
                            <div class="row contact--metadata">
                                <div class="col-md-3 contact-label">
                                    Email
                                </div>
                                <div class="col-md-9 contact-value">
                                    {{ model.email }}
                                </div>
                            </div>
                            <div class="row contact--metadata">
                                <div class="col-md-3 contact-label">
                                    Phone number
                                </div>
                                <div class="col-md-9 contact-value">
                                    {{ model.phoneNumber }}
                                </div>
                            </div>
                            <div class="row contact--metadata">
                                <div class="col-md-3 contact-label">
                                    Company name
                                </div>
                                <div class="col-md-9 contact-value">
                                    {{ model.company }}
                                </div>
                            </div>
                            <div class="row contact--metadata">
                                <div class="col-md-3 contact-label">
                                    Country
                                </div>
                                <div class="col-md-9 contact-value">
                                    {{ model.country }}
                                </div>
                            </div>
                            <div class="row contact--metadata">
                                <div class="col-md-3 contact-label">
                                    City
                                </div>
                                <div class="col-md-9 contact-value">
                                    {{ model.city }}
                                </div>
                            </div>
                            <div class="row contact--metadata">
                                <div class="col-md-3 contact-label">
                                    Address
                                </div>
                                <div class="col-md-9 contact-value">
                                    {{ model.address }}
                                </div>
                            </div>
                            <div class="row contact--metadata">
                                <div class="col-md-3 contact-label">
                                    Facebook
                                </div>
                                <div class="col-md-9 contact-value">
                                    {{ model.facebook }}
                                </div>
                            </div>
                            <div class="row contact--metadata">
                                <div class="col-md-3 contact-label">
                                    Twitter
                                </div>
                                <div class="col-md-9 contact-value">
                                    {{ model.twitter }}
                                </div>
                            </div>
                            <div class="row contact--metadata">
                                <div class="col-md-3 contact-label">
                                    Linkedin
                                </div>
                                <div class="col-md-9 contact-value">
                                    {{ model.linkedin }}
                                </div>
                            </div>
                            <div class="row contact--metadata">
                                <div class="col-md-3 contact-label">
                                    Github
                                </div>
                                <div class="col-md-9 contact-value">
                                    {{ model.github }}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-3 box-note-contect">
                <h4 class="title-note">Note</h4>
                <div *ngFor="let item of listNote; index as i;" class="item-note">
                    <textarea pInputTextarea [(ngModel)]="item.note" [autoResize]="true" [disabled]="true"></textarea>
                </div>
                <div class="mb-3 box-note-input">
                    <textarea [rows]="5" [cols]="30" [(ngModel)]="notes" pInputTextarea [autoResize]="true"></textarea>
                    <button type="button" class="btn btn-primary" (click)="addNote()" [disabled]="!notes">Save</button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="newContact" class="modal add-contact" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Create new contact</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="content-box">
                    <form [formGroup]="form" (ngSubmit)="onSubmitUpdate()">
                        <label class="input-container">
                            <span>Full Name<span class="text-required">*</span></span>
                            <div class="group-input">
                                <input type="text" pInputText [(ngModel)]="model.fullname" formControlName="fullname"
                                    placeholder="Please enter full name" class="form-control">
                                <div *ngIf="(f['fullname'].dirty || f['fullname'].touched || submitted) && f['fullname'].invalid"
                                    class="text-danger">
                                    <div *ngIf="f['fullname'].errors?.['required']">
                                        Please enter Full name
                                    </div>
                                </div>
                            </div>
                        </label>
                        <label class="input-container">
                            <span>Email<span class="text-required">*</span></span>
                            <div class="group-input">
                                <input type="text" pInputText [(ngModel)]="model.email" formControlName="email"
                                    placeholder="Please enter email" class="form-control">
                                <div *ngIf="(f['email'].dirty || f['email'].touched || submitted) && f['email'].invalid"
                                    class="text-danger">
                                    <div *ngIf="f['email'].errors?.['required']">
                                        Please enter email
                                    </div>
                                    <div *ngIf="f['email'].errors?.['email']">
                                        Please enter a valid email
                                    </div>
                                </div>
                            </div>
                        </label>
                        <label class="input-container">
                            <span>Phone number</span>
                            <div class="group-input">
                                <input type="text" pInputText [(ngModel)]="model.phoneNumber"
                                    formControlName="phoneNumber" placeholder="Please enter phone number"
                                    class="form-control">
                            </div>
                            <p>*Phone number should be of E.164 format eg: +1415555555 [+][country code][area
                                code][local phone number]</p>
                        </label>
                        <label class="input-container">
                            <span>Company name</span>
                            <div class="group-input">
                                <input type="text" pInputText [(ngModel)]="model.company" formControlName="company"
                                    placeholder="Please enter company name" class="form-control">
                            </div>
                        </label>
                        <label class="input-container">
                            <span>Country</span>
                            <div class="group-input">
                                <p-dropdown [options]="countries" [(ngModel)]="model.country" optionLabel="name"
                                    optionValue="id" formControlName="country"></p-dropdown>
                            </div>
                        </label>
                        <label class="input-container">
                            <span>City</span>
                            <div class="group-input">
                                <input type="text" pInputText [(ngModel)]="model.city" formControlName="city"
                                    placeholder="Please enter city" class="form-control">
                            </div>
                        </label>
                        <label class="input-container">
                            <span>Address</span>
                            <div class="group-input">
                                <input type="text" pInputText [(ngModel)]="model.address" formControlName="address"
                                    placeholder="Please enter address" class="form-control">
                            </div>
                        </label>
                        <label class="input-container m-0">
                            <span>Social profile</span>
                            <div class="group-input">
                                <div class="d-flex align-items-center mb-2">
                                    <span class="text-social">
                                        https://facebook.com/
                                    </span>
                                    <input type="text" pInputText [(ngModel)]="model.facebook"
                                        formControlName="facebook" placeholder="..." class="form-control">
                                </div>
                                <div class="d-flex align-items-center mb-2">
                                    <span class="text-social">
                                        https://twitter.com/
                                    </span>
                                    <input type="text" pInputText [(ngModel)]="model.twitter" formControlName="twitter"
                                        placeholder="..." class="form-control">
                                </div>
                                <div class="d-flex align-items-center mb-2">
                                    <span class="text-social">
                                        https://linkedin.com/
                                    </span>
                                    <input type="text" pInputText [(ngModel)]="model.linkedin"
                                        formControlName="linkedin" placeholder="..." class="form-control">
                                </div>
                                <div class="d-flex align-items-center">
                                    <span class="text-social">
                                        https://github.com/
                                    </span>
                                    <input type="text" pInputText [(ngModel)]="model.github" formControlName="github"
                                        placeholder="..." class="form-control">
                                </div>
                            </div>
                        </label>
                    </form>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="submit" class="btn btn-primary" [disabled]="form.invalid"
                    (click)="onSubmitUpdate()">Save</button>
            </div>
        </div>
    </div>
</div>